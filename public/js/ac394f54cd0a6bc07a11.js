webpackJsonp([0],[,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAPI=e.createRequestURI=void 0;var s=a(30),r=function(t){return t&&t.__esModule?t:{default:t}}(s),n=window.TS,i=n.baseURL,o=n.api;e.createRequestURI=function(t){return i+"/"+t},e.createAPI=function(t){return o+"/"+t};r.default.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var l=document.head.querySelector('meta[name="csrf-token"]');l?r.default.defaults.headers.common["X-CSRF-TOKEN"]=l.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),e.default=r.default},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.USER_UPDATE="user/update",e.USER_DELETE="user/delete",e.SETTINGS_SITE_UPDATE="settings/site/UPDATE",e.SETTINGS_SYSTEM_UPDATE="settings/system/UPDATE",e.SETTINGS_AREA_APPEND="settings/area/APPEND",e.SETTINGS_AREA_CHANGEITEM="settings/area/CHANGE-ITEM",e.SETTINGS_AREA_CHANGE="settings/area/CHANGE",e.SETTINGS_AREA_DELETE="settings/area/DELETE",e.USERS_CHANGE="users/CHANGE",e.MANAGES_SET="manages/SET"},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.USER_LOGGED="user/logged",e.USER="user/user",e.USER_DATA="user/datas",e.SETTINGS_SITE="settings/site",e.SETTINGS_SYSTEM="settings/system",e.SETTINGS_AREA="settings/area",e.USERS="user/GET-LIST",e.MANAGES_GET="manages/GET"},,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(7),n=s(r),i=a(6),o=s(i),l=a(23),c=s(l),u=a(24),d=s(u),v=a(25),p=s(v),f=a(26),m=s(f),_=a(27),h=s(_);n.default.use(o.default);var g={user:c.default,site:d.default,area:p.default,manages:m.default,system:h.default},y=new o.default.Store({modules:g});e.default=y},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a){p()?a():a({path:"/login",query:{redirect:t.fullPath}})}function n(t,e,a){p()?a({path:e.fullPath}):a()}Object.defineProperty(e,"__esModule",{value:!0}),e.requireAuth=r,e.loggedAuth=n;var i=a(10),o=s(i),l=a(3),c=a(4),u=a(1),d=s(u),v=function(t,e){return d.default.post((0,u.createRequestURI)("login"),{account:t,password:e},{validateStatus:function(t){return 201===t}})},p=function(){return o.default.getters[c.USER_LOGGED]},f=function(t){o.default.dispatch(l.USER_DELETE,t)};e.default={login:v,logged:p,logout:f}},,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.router=e.app=void 0;var r=a(7),n=s(r),i=a(18),o=a(19),l=s(o),c=a(10),u=s(c),d=a(28),v=s(d);window.$=window.jQuery=a(180),a(182),(0,i.sync)(u.default,v.default);var p=new n.default({router:v.default,store:u.default,el:"#app",render:function(t){return t(l.default)}});e.app=p,e.router=v.default,e.store=u.default},,function(t,e,a){"use strict";function s(t){a(20)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(22),n=a(0),i=s,o=n(null,r.a,i,null,null);e.default=o.exports},function(t,e){},,function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"app"}},[a("router-view")],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var r,n,i,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},l=a(3),c=a(4),u=window.TS.logged,d=window.TS.user,v=function(t){window.TS.logged=!!t,window.TS.user=t},p={logged:u,user:d},f=(r={},s(r,l.USER_UPDATE,function(t,e){t.logged=!!e,t.user=o({},t.user,e),v(t.user)}),s(r,l.USER_DELETE,function(t){t.logged=!1,t.user=null,v(t.user)}),r),m=(n={},s(n,l.USER_UPDATE,function(t,e){return e(function(e){return t.commit(l.USER_UPDATE,e)},t)}),s(n,l.USER_DELETE,function(t,e){return e(function(){return t.commit(l.USER_DELETE)},t)}),n),_=(i={},s(i,c.USER_LOGGED,function(t){return t.logged}),s(i,c.USER,function(t){return t.user}),s(i,c.USER_DATA,function(t){var e=t.user,a=void 0===e?{}:e,s=a.datas,r=void 0===s?[]:s,n={};return r.forEach(function(t){n[t.profile]={display:t.profile_name,value:t.pivot.user_profile_setting_data,type:t.type,options:t.default_options,updated_at:t.updated_at}}),n}),i),h={state:p,mutations:f,getters:_,actions:m};e.default=h},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r={name:"",keywords:"",description:"",icp:""},n=function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}({},s.SETTINGS_SITE_UPDATE,function(t,e){Object.keys(e).forEach(function(a){t[a]=e[a]})}),i={state:r,mutations:n};e.default=i},function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n,i,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},l=a(3),c=a(4),u={list:[]},d=(n={},s(n,l.SETTINGS_AREA_APPEND,function(t,e){t.list=[].concat(r(t.list),[e])}),s(n,l.SETTINGS_AREA_CHANGEITEM,function(t,e){var a=t.list;t.list=a.map(function(t){return t.id===e.id?o({},t,e):t})}),s(n,l.SETTINGS_AREA_CHANGE,function(t,e){t.list=[].concat(r(e))}),s(n,l.SETTINGS_AREA_DELETE,function(t,e){var a=[];t.list.forEach(function(t){t.id!==e&&a.push(t)}),t.list=a}),n),v=s({},c.SETTINGS_AREA,function(t){return t.list}),p=(i={},s(i,l.SETTINGS_AREA_APPEND,function(t,e){return e(function(e){return t.commit(l.SETTINGS_AREA_APPEND,e)},t)}),s(i,l.SETTINGS_AREA_CHANGEITEM,function(t,e){return e(function(e){return t.commit(l.SETTINGS_AREA_CHANGEITEM,e)},t)}),s(i,l.SETTINGS_AREA_CHANGE,function(t,e){return e(function(e){return t.commit(l.SETTINGS_AREA_CHANGE,e)},t)}),s(i,l.SETTINGS_AREA_DELETE,function(t,e){return e(function(e){return t.commit(l.SETTINGS_AREA_DELETE,e)},t)}),i),f={state:u,mutations:d,getters:v,actions:p};e.default=f},function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var r=a(3),n=a(4),i={manages:[]},o=s({},r.MANAGES_SET,function(t,e){t.manages=e}),l=s({},n.MANAGES_GET,function(t){return t.manages}),c=s({},r.MANAGES_SET,function(t,e){return e(function(e){return t.commit(r.MANAGES_SET,e)},t)});e.default={state:i,mutations:o,getters:l,actions:c}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r={php_version:"",os:"",server:"",db:"",port:"",root:"",agent:"",protocol:"",method:"",laravel_version:"",max_upload_size:"",execute_time:"",server_date:"",local_date:"",domain_ip:"",user_ip:"",disk:""},n=function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}({},s.SETTINGS_SYSTEM_UPDATE,function(t,e){Object.keys(e).forEach(function(a){t[a]=e[a]})}),i={state:r,mutations:n};e.default=i},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(7),n=s(r),i=a(29),o=s(i),l=a(11),c=a(50),u=s(c),d=a(77),v=s(d),p=a(106),f=s(p),m=a(115),_=s(m),h=a(149),g=s(h),y=a(152),b=s(y),C=a(158),w=s(C),P=a(162),k=s(P),x=a(172),I=s(x),E=a(176),S=s(E);n.default.use(o.default);var A=[{path:"",redirect:"/setting"},{path:"package/:key",component:I.default},{path:"component/:component(.*)",component:S.default}],R=[u.default,v.default,f.default,_.default,g.default,b.default],T=new o.default({mode:"hash",routes:[{path:"/",component:k.default,beforeEnter:l.requireAuth,children:[].concat(A,R)},{path:"/login",component:w.default,beforeEnter:l.loggedAuth}]});e.default=T},,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(51),n=s(r),i=a(54),o=s(i),l=a(58),c=s(l),u=a(63),d=s(u),v=a(67),p=s(v),f=a(70),m=s(f),_=a(73),h=s(_),g={path:"setting",component:n.default,children:[{path:"",component:o.default},{path:"area",component:c.default},{path:"hots",component:d.default},{path:"mail",component:p.default},{path:"sendmail",component:m.default},{path:"server",component:h.default}]};e.default=g},function(t,e,a){"use strict";function s(t){a(52)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(53),n=a(0),i=s,o=n(null,r.a,i,null,null);e.default=o.exports},function(t,e){},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-container"},[a("ul",{staticClass:"nav nav-tabs setting-nav"},[a("router-link",{attrs:{to:"/setting",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("基本信息")])]),t._v(" "),a("router-link",{attrs:{to:"/setting/area",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("地区库")])]),t._v(" "),a("router-link",{attrs:{to:"/setting/mail",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("邮件")])]),t._v(" "),a("router-link",{attrs:{to:"/setting/server",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("服务器信息")])])],1),t._v(" "),a("router-view")],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(55)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(56),n=a.n(r),i=a(57),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"_1KZThGFAzqMZHWZXSnyyqW_0",containerAround:"_3mmv8-PuOxpsgKq-h6Hil__0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=a(3),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o={data:function(){return{loadding:!0,error:!1,error_message:"重新加载",message:"提交"}},computed:{name:{get:function(){return this.$store.state.site.name},set:function(t){this.$store.commit(r.SETTINGS_SITE_UPDATE,{name:t})}},keywords:{get:function(){return this.$store.state.site.keywords},set:function(t){this.$store.commit(r.SETTINGS_SITE_UPDATE,{keywords:t})}},description:{get:function(){return this.$store.state.site.description},set:function(t){this.$store.commit(r.SETTINGS_SITE_UPDATE,{description:t})}},icp:{get:function(){return this.$store.state.site.icp},set:function(t){this.$store.commit(r.SETTINGS_SITE_UPDATE,{icp:t})}}},methods:{requestSiteInfo:function(){var t=this;i.default.get((0,n.createRequestURI)("site/baseinfo"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,n=void 0===a?{}:a;t.$store.commit(r.SETTINGS_SITE_UPDATE,s({},n)),t.loadding=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message,n=void 0===r?"加载失败":r;t.loadding=!1,t.error=!0,window.alert(n)})},submit:function(){var t=this,e=this.name,a=this.keywords,s=this.description,r=this.icp;this.loadding=!0,i.default.patch((0,n.createRequestURI)("site/baseinfo"),{name:e,keywords:a,description:s,icp:r},{validateStatus:function(t){return 201===t}}).then(function(){t.message="执行成功",t.loadding=!1,setTimeout(function(){t.message="提交"},1e3)}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message,n=void 0===r?"加载失败":r;t.loadding=!1,t.error=!0,t.error_message=n,setTimeout(function(){t.error=!1,t.error_message="重新加载"},1e3)})}},created:function(){this.requestSiteInfo()}};e.default=o},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"form-horizontal",class:t.$style.container,on:{submit:function(e){e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"site-name"}},[t._v("应用名称")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"site-name","aria-describedby":"site-name-help-block",placeholder:"输入网站标题"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"site-name-help-block"}},[t._v("\n      应用名称，将在网页中显示在title的基本信息。也是搜索引擎为搜录做筛选标题的重要信息。\n    ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"site-keywords"}},[t._v("关键词")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"form-control",attrs:{type:"text",id:"site-keywords","aria-describedby":"site-keywords-help-block",placeholder:"网站关键词"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"site-description"}},[t._v("描述")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",id:"site-description","aria-describedby":"site-description-help-block",placeholder:"网站描述"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"site-description-help-block"}},[t._v("\n      描述用于简单的介绍站点，在搜索引擎中用于搜索结果的概述。\n    ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"site-icp"}},[t._v("ICP 备案信息")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.icp,expression:"icp"}],staticClass:"form-control",attrs:{type:"text",id:"site-icp","aria-describedby":"site-icp-help-block",placeholder:"网站描述"},domProps:{value:t.icp},on:{input:function(e){e.target.composing||(t.icp=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"site-icp-help-block"}},[t._v("\n      填写 ICP 备案的信息，例如: 浙ICP备xxxxxxxx号\n    ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t.loadding?a("button",{staticClass:"btn btn-primary",attrs:{disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.containerAround})]):t.error?a("button",{staticClass:"btn btn-danger",on:{click:function(e){e.preventDefault(),t.requestSiteInfo(e)}}},[t._v(t._s(t.error_message))]):a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.message))])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"site-keywords-help-block"}},[t._v("\n      网站关键词，是通过搜索引擎检索网站的重要信息，多个关键词使用英文半角符号“"),a("strong",[t._v(",")]),t._v("”分割。\n    ")])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(59)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(60),n=a.n(r),i=a(62),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"_1z4RhTrWlanBvCuyqi6fBV_0",loadding:"_1mZzobTI0IkBqSC5lgNrlj_0",loaddingIcon:"_4_lrzbUDzh31qV7YzKgKI_0",breadcrumbNotActvie:"_179TtcPFaYQhDG3qbBUqaq_0",areaTab:"_3yNydw7ENv-B_wPVTMdCNN_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o=a(6),l=a(5),c=s(l),u=a(4),d=a(3),v=a(1),p=s(v),f={data:function(){return{current:0,loadding:!0,add:{name:"",extends:"",loadding:!1,error:!1,error_message:{}},deleteIds:{}}},computed:i({},(0,o.mapGetters)({areas:u.SETTINGS_AREA}),{tree:function(){var t=this.current;return 0!==t&&this.getTrees(t)},list:function(){var t=this.current,e=[];return this.areas.forEach(function(a){a.pid===t&&e.push(a)}),e}}),methods:{getTrees:function(t){var e=this,a=[];return this.areas.forEach(function(s){s.id===t&&(a=[].concat(n(e.getTrees(s.pid)),[s]))}),a},selectCurrent:function(t){if(this.add.loadding)return void alert("正在添加新地区，请等待！！！");this.current=t,this.add={name:"",extends:"",loadding:!1},document.documentElement.scrollTop=document.body.scrollTop=0},addArea:function(){var t=this;this.add.loadding=!0,this.add.error=!1;var e={name:this.add.name,extends:this.add.extends,pid:this.current};this.$store.dispatch(d.SETTINGS_AREA_APPEND,function(a){return p.default.post((0,v.createRequestURI)("site/areas"),e,{validateStatus:function(t){return 201===t}}).then(function(e){var s=e.data;t.add={name:"",extends:"",loadding:!1},a(s)}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data,r=void 0===s?{}:s,n=r.error,i=void 0===n?["添加失败!!!"]:n;t.add.loadding=!1,t.add.error=!0,t.add.error_message=i})})},dismisAddAreaError:function(){this.add.error=!1},deleteArea:function(t){var e=this;if(window.confirm("确认删除?")){this.deleteIds=i({},this.deleteIds,r({},t,t));var a=function(t){var a={};for(var s in e.deleteIds)parseInt(s)!==parseInt(t)&&(a=i({},a,r({},s,s)));e.deleteIds=a};this.$store.dispatch(d.SETTINGS_AREA_DELETE,function(e){return p.default.delete((0,v.createRequestURI)("site/areas/"+t),{validateStatus:function(t){return 204===t}}).then(function(){e(t),a(t)}).catch(function(e){var s=e.response;s=void 0===s?{}:s;var r=s.data,n=void 0===r?{}:r;a(t);var i=n.error,o=void 0===i?"删除失败":i;window.alert(o)})})}},patchArea:function(t,e,a){this.$store.dispatch(d.SETTINGS_AREA_CHANGEITEM,function(s){return p.default.patch((0,v.createRequestURI)("site/areas/"+t),{key:e,value:a},{validateStatus:function(t){return 201===t}}).then(function(){s(r({id:t},e,a))}).catch(function(t){var e=t.response;e=void 0===e?{}:e;var a=e.data,s=void 0===a?{}:a,r=s.error,n=void 0===r?["更新失败"]:r,i=c.default.values(n).pop();window.alert(i)})})}},created:function(){var t=this;this.$store.dispatch(d.SETTINGS_AREA_CHANGE,function(e){return p.default.get((0,v.createRequestURI)("site/areas"),{validateStatus:function(t){return 200===t}}).then(function(a){var s=a.data;e(void 0===s?[]:s),t.loadding=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message,n=void 0===r?"获取地区失败":r;t.loadding=!1,window.alert(n)})})}};e.default=f},,function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",class:t.$style.container},[a("ul",{staticClass:"nav nav-tabs",class:t.$style.areaTab},[a("router-link",{attrs:{to:"/setting/area",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("地区管理")])]),t._v(" "),a("router-link",{attrs:{to:"/setting/hots",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("热门城市")])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}],class:t.$style.loadding},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadding,expression:"!loadding"}]},[t.tree?a("ol",{staticClass:"breadcrumb"},[a("li",{class:t.$style.breadcrumbNotActvie,on:{click:function(e){e.preventDefault(),t.selectCurrent(0)}}},[t._v("全部")]),t._v(" "),t._l(t.tree,function(e){return a("li",{class:e.id===t.current?"active":t.$style.breadcrumbNotActvie,on:{click:function(a){a.preventDefault(),t.selectCurrent(e.id)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})],2):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.current,expression:"!current"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[a("p",[t._v("1. 提交：编辑地区信息的时候，直接修改输入框内容，失去焦点后程序会自动提交")]),t._v(" "),t._m(0)]),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),a("tbody",[t._l(t.list,function(e){return a("tr",[a("td",[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"输入名称"},domProps:{value:e.name},on:{change:function(a){if(!("button"in a)&&t._k(a.keyCode,"lazy"))return null;t.patchArea(e.id,"name",a.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"输入拓展信息"},domProps:{value:e.extends},on:{change:function(a){if(!("button"in a)&&t._k(a.keyCode,"lazy"))return null;t.patchArea(e.id,"extends",a.target.value)}}})])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.selectCurrent(e.id)}}},[t._v("下级管理")]),t._v(" "),t.deleteIds.hasOwnProperty(e.id)?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.deleteArea(e.id)}}},[t._v("删除")])])])}),t._v(" "),a("tr",[a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.name,expression:"add.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入名称"},domProps:{value:t.add.name},on:{input:function(e){e.target.composing||(t.add.name=e.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.extends,expression:"add.extends"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入拓展信息"},domProps:{value:t.add.extends},on:{input:function(e){e.target.composing||(t.add.extends=e.target.value)}}})])]),t._v(" "),a("td",[t.add.loadding?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addArea(e)}}},[t._v("添加")])])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.add.error,expression:"add.error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisAddAreaError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("strong",[t._v("Error:")]),t._v(" "),t._l(t.add.error_message,function(e){return a("p",[t._v(t._s(e))])})],2)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("2. 拓展信息：拓展信息赋予单条信息而外的数据，例如国家设置，"),a("strong",[t._v("中国")]),t._v("的拓展信息设置的"),a("strong",[t._v("3")]),t._v(",用于在app开发中UI层展示几级选择菜单，所以，只有在业务需求下，设置拓展信息才是有用的。其他情况下留空即可。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("拓展(无需设置)")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(64)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(65),n=a.n(r),i=a(66),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"_3a3ApJ5vBfeQkOR5SQTVKy_0",loadding:"_1DqvaIgu-DhLYayOrTp0V2_0",loaddingIcon:"_123nZVdWRQopOtyatixg0B_0",areaTab:"_1qu9NINeJ6UFglSbZDvW0Z_0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{loadding:!1,message:"",add:{content:"",message:"",update:0,loadding:!1,type:"muted"},list:{}}},methods:{doHotsArea:function(){var t=this;this.add.loadding=!0;var e={content:this.add.content,update:this.add.update};n.default.post((0,r.createRequestURI)("site/areas/hots"),e,{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data,s=a.message,r=void 0===s?"提交成功":s,n=a.status,i=void 0===n?"":n,o=t.list.indexOf(t.add.content);t.add.loadding=!1,t.add.type="success",1==i&&o<0?(t.list.push(t.add.content),t.add.message=r):t.add.message="已存在此地区",2==i&&(o>-1&&t.list.splice(o,1),t.add.message="删除成功")}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.error;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"提交失败":o;t.add.loadding=!1,t.add.type="danger",t.add.message=l})},deleteArea:function(t){window.confirm("确认删除?")&&(this.add.content=t,this.add.update=1,this.doHotsArea())},request:function(){var t=this;this.loadding=!0,n.default.get((0,r.createRequestURI)("site/areas/hots"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data.data,s=void 0===a?{}:a;t.loadding=!1,t.list=s}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"加载失败":o;t.loadding=!1,t.message=l})}},created:function(){var t=this;window.setTimeout(function(){return t.request()},500)}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",class:t.$style.container},[a("ul",{staticClass:"nav nav-tabs",class:t.$style.areaTab},[a("router-link",{attrs:{to:"/setting/area",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("地区管理")])]),t._v(" "),a("router-link",{attrs:{to:"/setting/hots",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("热门城市")])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}],class:t.$style.loadding},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]),t._v(" "),t.message?a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.request(e)}}},[t._v("刷新")])]):a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadding,expression:"!loadding"}]},[t._m(0),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),a("tbody",[t._l(t.list,function(e){return a("tr",[a("td",[a("div",{staticClass:"input-group"},[t._v(t._s(e))])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.deleteArea(e)}}},[t._v("删除")])])])}),t._v(" "),a("tr",[a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.content,expression:"add.content"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入名称"},domProps:{value:t.add.content},on:{input:function(e){e.target.composing||(t.add.content=e.target.value)}}})])]),t._v(" "),a("td",[t.add.loadding?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.doHotsArea(e)}}},[t._v("添加")]),t._v(" "),a("span",{class:"text-"+t.add.type},[t._v(t._s(t.add.message))])])])],2)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[a("p",[t._v("添加：直接输入地区名以空格分开， 例如：中国 四川省 成都市")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(68),r=a.n(s),n=a(69),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{loadding:{state:0,message:""},submit:{state:!1,type:"muted",message:""},options:{}}},methods:{request:function(){var t=this;this.loadding.state=0,n.default.get((0,r.createRequestURI)("site/mail"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=void 0===a?{}:a;t.loadding.state=1,t.options=s}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"加载失败":o;t.loadding.state=2,t.loadding.message=l})},submitHandle:function(){var t=this;this.submit.state=!0,n.default.patch((0,r.createRequestURI)("site/mail"),this.options,{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.message,s=void 0===a?"提交成功":a;t.submit.state=!1,t.submit.type="success",t.submit.message=s}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"提交失败":o;t.submit.state=!1,t.submit.type="danger",t.submit.message=l})}},created:function(){var t=this;window.setTimeout(function(){return t.request()},500)}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("邮件配置 \n\t\t"),a("router-link",{attrs:{to:"/setting/sendmail"}},[a("button",{staticClass:"btn btn-primary btn-xs pull-right",attrs:{type:"button"}},[t._v("测试发送")])])],1),t._v(" "),0===t.loadding.state?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n        加载中...\n      ")]):1===t.loadding.state?a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"host"}},[t._v("SMTP主机地址")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.host,expression:"options.host"}],staticClass:"form-control",attrs:{type:"text",name:"host",id:"host",placeholder:"请输入SMTP主机地址","aria-describedby":"host-help"},domProps:{value:t.options.host},on:{input:function(e){e.target.composing||(t.options.host=e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"port"}},[t._v("SMTP主机端口")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.port,expression:"options.port"}],staticClass:"form-control",attrs:{type:"text",name:"port",id:"port",placeholder:"请输入SMTP主机端口","aria-describedby":"port-help"},domProps:{value:t.options.port},on:{input:function(e){e.target.composing||(t.options.port=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"address"}},[t._v("邮件地址")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.from.address,expression:"options.from.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"address",placeholder:"请输入发送邮件地址","aria-describedby":"address-help"},domProps:{value:t.options.from.address},on:{input:function(e){e.target.composing||(t.options.from.address=e.target.value)}}})]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("发送名称")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.from.name,expression:"options.from.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"请输入发送名称","aria-describedby":"name-help"},domProps:{value:t.options.from.name},on:{input:function(e){e.target.composing||(t.options.from.name=e.target.value)}}})]),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"encryption"}},[t._v("传输协议加密方式")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.encryption,expression:"options.encryption"}],attrs:{type:"radio",name:"encryption",value:"tls"},domProps:{checked:t._q(t.options.encryption,"tls")},on:{__c:function(e){t.options.encryption="tls"}}}),t._v("TLS   \n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.encryption,expression:"options.encryption"}],attrs:{type:"radio",name:"encryption",value:"ssl"},domProps:{checked:t._q(t.options.encryption,"ssl")},on:{__c:function(e){t.options.encryption="ssl"}}}),t._v("SSL\t \n          ")]),t._v(" "),t._m(4)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"username"}},[t._v("SMTP服务器用户名")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.username,expression:"options.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"username",placeholder:"请输入SMTP服务器用户名","aria-describedby":"username-help"},domProps:{value:t.options.username},on:{input:function(e){e.target.composing||(t.options.username=e.target.value)}}})]),t._v(" "),t._m(5)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"password"}},[t._v("SMTP服务器密码")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.password,expression:"options.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"请输入SMTP服务器密码","aria-describedby":"password-help"},domProps:{value:t.options.password},on:{input:function(e){e.target.composing||(t.options.password=e.target.value)}}})]),t._v(" "),t._m(6)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.submit.state?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n              提交...\n            ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submitHandle(e)}}},[t._v("提交")])]),t._v(" "),a("div",{staticClass:"col-sm-6 help-block"},[a("span",{class:"text-"+t.submit.type},[t._v(t._s(t.submit.message))])])])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.loadding.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.request(e)}}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"host-help"}},[t._v("输入SMTP主机地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"port-help"}},[t._v("请输入SMTP主机端口")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"address-help"}},[t._v("请输入发送邮件地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"name-help"}},[t._v("请输入发送名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"encryption-help"}},[t._v("选择邮件传输协议加密方式")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"username-help"}},[t._v("请输入SMTP服务器用户名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"password-help"}},[t._v("请输入SMTP服务器密码")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(71),r=a.n(s),n=a(72),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{submit:{state:!1,type:"muted",message:""},options:{}}},methods:{submitHandle:function(){var t=this;this.submit.state=!0,n.default.post((0,r.createRequestURI)("site/sendmail"),this.options,{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.message,s=void 0===a?"提交成功":a;t.submit.state=!1,t.submit.type="success",t.submit.message=s}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"提交失败":o;t.submit.state=!1,t.submit.type="danger",t.submit.message=l})}}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("测试发送邮件\n\t\t    "),a("router-link",{attrs:{to:"/setting/mail"}},[a("button",{staticClass:"btn btn-primary btn-xs pull-right",attrs:{type:"button"}},[t._v("返 回")])])],1),t._v(" "),a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"email"}},[t._v("邮件地址")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.email,expression:"options.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"email",placeholder:"请输入邮件地址"},domProps:{value:t.options.email},on:{input:function(e){e.target.composing||(t.options.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"content"}},[t._v("邮件内容")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.content,expression:"options.content"}],staticClass:"form-control",attrs:{type:"text",name:"content",id:"content",placeholder:"请输入发送内容"},domProps:{value:t.options.content},on:{input:function(e){e.target.composing||(t.options.content=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.submit.state?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n              提交...\n            ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submitHandle(e)}}},[t._v("发送")])]),t._v(" "),a("div",{staticClass:"col-sm-6 help-block"},[a("span",{class:"text-"+t.submit.type},[t._v(t._s(t.submit.message))])])])])])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){a(74)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(75),n=a.n(r),i=a(76),o=a(0),l=s,c=o(n.a,i.a,l,"data-v-7c3124ca",null);e.default=c.exports},function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=a(3),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o={data:function(){return{translates:{php_version:"PHP版本",os:"操作系统",server:"运行环境",domain_ip:"域名/IP",db:"数据库",root:"根目录",laravel_version:"Laravel版本",max_upload_size:"最大上传限制",server_date:"服务器时间",local_date:"本地时间",protocol:"通信协议",port:"监听端口",method:"请求方法",execute_time:"执行时间",agent:"你使用的浏览器",user_ip:"你的IP",disk:"服务端剩余磁盘空间"}}},created:function(){this.getSystemInfo()},computed:{system:function(){return this.$store.state.system}},methods:{getSystemInfo:function(){var t=this;i.default.get((0,n.createRequestURI)("site/systeminfo"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,n=void 0===a?{}:a;t.$store.commit(r.SETTINGS_SYSTEM_UPDATE,s({},n)),t.loadding=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message,n=void 0===r?"加载失败":r;t.loadding=!1,t.error=!0,window.alert(n)})}}};e.default=o},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("服务器信息")]),t._v(" "),a("ul",{staticClass:"list-group"},t._l(t.system,function(e,s){return a("li",{key:s,staticClass:"list-group-item"},[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.translates[s])+" : ")]),t._v(" "),a("span",[t._v(t._s(e))])])}))])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(78),n=s(r),i=a(81),o=s(i),l=a(84),c=s(l),u=a(88),d=s(u),v=a(92),p=s(v),f=a(96),m=s(f),_=a(99),h=s(_),g=a(103),y=s(g),b={path:"users",component:n.default,children:[{path:"",component:d.default},{path:"manage/:userId",component:c.default},{path:"add",component:o.default},{path:"roles",component:p.default},{path:"roles/:role",component:m.default},{path:"permissions",component:h.default},{path:"setting",component:y.default}]};e.default=b},function(t,e,a){"use strict";function s(t){this.$style=a(79)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(80),n=a(0),i=s,o=n(null,r.a,i,null,null);e.default=o.exports},function(t,e){t.exports={nav:"_3aSlbEE3z6zx2l_uo3HI0c_0"}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs",class:t.$style.nav},[a("router-link",{attrs:{to:"/users",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("用户管理")])]),t._v(" "),a("router-link",{attrs:{to:"/users/setting",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("基础设置")])]),t._v(" "),a("router-link",{attrs:{to:"/users/roles",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("角色管理")])]),t._v(" "),a("router-link",{attrs:{to:"/users/permissions",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("权限管理")])])],1),t._v(" "),a("router-view")],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(82),r=a.n(s),n=a(83),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{name:"",phone:"",email:"",password:"",adding:!1,errorMessage:""}},methods:{createUser:function(){var t=this;this.adding=!0,n.default.post((0,r.createRequestURI)("users"),{name:this.name,phone:this.phone,password:this.password},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.user_id;t.$router.replace({path:"/users/manage/"+a})}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data,n=void 0===r?{}:r,i=n.name,o=void 0===i?[]:i,l=n.phone,c=void 0===l?[]:l,u=(n.email,n.password),d=void 0===u?[]:u,v=n.message,p=void 0===v?[]:v,f=[].concat(s(o),s(c),s(d),s(p)),m=f[0];t.errorMessage=m,t.adding=!1})},dismisError:function(){this.errorMessage=""}}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name","aria-describedby":"name-help-block",placeholder:"请输入用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"name-help-block"}},[t._v("\n        请输入用户名，只能以非特殊字符和数字开头！\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"phone"}},[t._v("手机号码")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone","aria-describedby":"phone-help-block",placeholder:"请输入手机号码"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"phone-help-block"}},[t._v("\n        可选，手机号码\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"email"}},[t._v("邮箱")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email","aria-describedby":"phone-help-block",placeholder:"请输入邮箱地址"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"email-help-block"}},[t._v("\n        可选，电子邮箱\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"password"}},[t._v("密码")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"new-password",id:"password","aria-describedby":"password-help-block",placeholder:"请输入用户密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"password-help-block"}},[t._v("\n        用户密码\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t.adding?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.createUser}},[t._v("添加用户")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n      "+t._s(t.errorMessage)+"\n    ")])])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(85)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(86),n=a.n(r),i=a(87),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={roleItem:"_31HzegN0N_MKNx8ek-ewdS_0"}},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o={data:function(){return{changeIn:!1,password:"",error:null,user:{},roles:[],selecedRoles:[]}},methods:{updateUser:function(){var t=this;this.changeIn=!0;var e=this.user,a=e.id,r=e.name,o=e.phone,l=e.email,c=this.selecedRoles,u=this.password;i.default.patch((0,n.createRequestURI)("users/"+a),{name:r,phone:o,email:l,password:u,roles:c},{validateStatus:function(t){return 201===t}}).then(function(){t.changeIn=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data,n=void 0===r?{}:r,i=n.phone,o=void 0===i?[]:i,l=n.name,c=void 0===l?[]:l,u=n.email,d=void 0===u?[]:u,v=n.roles,p=void 0===v?[]:v,f=n.message,m=void 0===f?[]:f,_=[].concat(s(o),s(c),s(d),s(p),s(m)),h=_[0];t.error=h,t.changeIn=!1})},dismisError:function(){this.error=null}},created:function(){var t=this,e=this.$route.params.userId;i.default.get((0,n.createRequestURI)("users/"+e),{params:{show_role:1},validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=a.user,r=a.roles;t.user=s,t.roles=r;var n=[];s.roles.forEach(function(t){return n.push(t.id)}),t.selecedRoles=n}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.errors,i=void 0===n?[]:n,o=r(i,1),l=o[0],c=void 0===l?"获取失败，请刷新重试！":l;t.error=c})}};e.default=o},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"name"}},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name","aria-describedby":"name-help-block",placeholder:"请输入用户名"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||(t.user.name=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"name-help-block"}},[t._v("\n        请输入用户名，只能以非特殊字符和数字开头！\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"phone"}},[t._v("手机号码")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone","aria-describedby":"phone-help-block",placeholder:"请输入手机号码"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||(t.user.phone=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"phone-help-block"}},[t._v("\n        可选，手机号码\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"email"}},[t._v("电子邮件")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",id:"email","aria-describedby":"email-help-block",placeholder:"请输入邮箱地址"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"email-help-block"}},[t._v("\n        可选，电子邮箱\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"password"}},[t._v("新密码")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"new-password",id:"password","aria-describedby":"password-help-block",placeholder:"请输入新的用户密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"password-help-block"}},[t._v("\n        输入新密码，并提交后会改变当前用户的密码，留空则表示不变更。\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("角色")]),t._v(" "),a("div",{staticClass:"col-sm-6"},t._l(t.roles,function(e){return a("label",{key:e.id,class:t.$style.roleItem},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selecedRoles,expression:"selecedRoles"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selecedRoles)?t._i(t.selecedRoles,e.id)>-1:t.selecedRoles},on:{__c:function(a){var s=t.selecedRoles,r=a.target,n=!!r.checked;if(Array.isArray(s)){var i=e.id,o=t._i(s,i);r.checked?o<0&&(t.selecedRoles=s.concat(i)):o>-1&&(t.selecedRoles=s.slice(0,o).concat(s.slice(o+1)))}else t.selecedRoles=n}}}),t._v(" "+t._s(e.display_name)+"\n        ")])})),t._v(" "),a("span",{staticClass:"col-sm-4 help-block",attrs:{id:"role-help-block"}},[t._v("\n        选择用户拥有的角色\n      ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t.changeIn?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateUser}},[t._v("修改资料")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n      "+t._s(t.error)+"\n    ")])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(89)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(90),n=a.n(r),i=a(91),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"_3dmnCvozpw3m8fFish2esW_0",loadding:"_2r5QYXEH13EfeIfzZcabFJ_0",loaddingIcon:"_1z3mStIIgVBALloTE-yh_I_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i=a(1),o=s(i),l=a(5),c=s(l),u={data:function(){return{userId:"",sort:"down",email:"",name:"",role:0,phone:"",lastPage:1,page:1,perPage:20,total:0,users:[],loadding:!1,showRole:!0,roles:[],deleteIds:[],error:null}},computed:{queryParams:function(){return{userId:this.userId,sort:this.sort,email:this.email,name:this.name,phone:this.phone,role:this.role,perPage:this.perPage,page:this.page}},prevQuery:function(){var t=parseInt(this.page);return n({},this.queryParams,{lastPage:this.lastPage,page:t>1?t-1:t})},nextQuery:function(){var t=parseInt(this.page),e=parseInt(this.lastPage);return n({},this.queryParams,{lastPage:e,page:t<e?t+1:e})},searchQuery:function(){return n({},this.queryParams,{page:1})}},watch:{$route:function(t){var e=t.query,a=e.email,s=void 0===a?"":a,r=e.name,n=void 0===r?"":r,i=e.phone,o=void 0===i?"":i,l=e.role,c=void 0===l?0:l,u=e.sort,d=void 0===u?"down":u,v=e.userId,p=void 0===v?"":v,f=e.lastPage,m=void 0===f?1:f,_=e.perPage,h=void 0===_?20:_,g=e.page,y=void 0===g?1:g;this.email=s,this.name=n,this.phone=o,this.role=c,this.sort=d,this.userId=p,this.lastPage=parseInt(m),this.perPage=parseInt(h),this.page=parseInt(y),this.getUsers()}},methods:{deleteIdsUnTo:function(t){var e=[];this.deleteIds.forEach(function(a){parseInt(a)!==parseInt(t)&&e.push(a)}),this.deleteIds=e},deleteUser:function(t){var e=this;window.confirm("确定要删除用户吗？")&&(this.deleteIds=[].concat(r(this.deleteIds),[t]),o.default.delete((0,i.createRequestURI)("users/"+t),{validateStatus:function(t){return 204===t}}).then(function(){e.deleteIdsUnTo(t);var a=[];e.users.forEach(function(e){e.id!==t&&a.push(e)}),e.users=a}).catch(function(a){var s=a.response;s=void 0===s?{}:s;var r=s.data;r=void 0===r?{}:r;var n=r.errors,i=void 0===n?["删除失败"]:n;e.deleteIdsUnTo(t),e.error=c.default.values(i).pop()}))},changeUserIdSort:function(t){this.sort=t},getUsers:function(){var t=this;this.loadding=!0,o.default.get((0,i.createRequestURI)("users"),{params:n({},this.queryParams,{show_role:this.showRole}),validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=a.page,r=a.roles;t.users=s||[],t.lastPage=parseInt(s.last_page),t.total=parseInt(s.total),t.loadding=!1,t.showRole=!1,t.roles=r}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.errors,n=void 0===r?["加载用户失败"]:r;t.error=c.default.values(n).pop(),t.loadding=!1})},dismisError:function(){this.error=null}},created:function(){var t=this.$route.query,e=t.email,a=void 0===e?"":e,s=t.name,r=void 0===s?"":s,n=t.phone,i=void 0===n?"":n,o=t.role,l=void 0===o?0:o,c=t.sort,u=void 0===c?"down":c,d=t.userId,v=void 0===d?"":d,p=t.lastPage,f=void 0===p?1:p,m=t.perPage,_=void 0===m?20:m,h=t.page,g=void 0===h?1:h;this.email=a,this.name=r,this.phone=i,this.role=l,this.sort=u,this.userId=v,this.lastPage=parseInt(f),this.perPage=parseInt(_),this.page=parseInt(g),this.showRole=!0,this.getUsers()}};e.default=u},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",class:t.$style.container},[a("div",{staticClass:"well well-sm"},[t._v("\n    检索用户\n    "),a("router-link",{staticClass:"btn btn-link pull-right btn-xs",attrs:{tag:"a",to:"/users/add",role:"button"}},[a("span",{staticClass:"glyphicon glyphicon-plus"}),t._v("\n      添加用户\n    ")])],1),t._v(" "),a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"search-input-id"}},[t._v("用户ID")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n              排序 "),a("span",{staticClass:"glyphicon",class:"up"===t.sort?"glyphicon-triangle-top":"glyphicon-triangle-bottom"})]),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeUserIdSort("up")}}},[a("span",{staticClass:"glyphicon glyphicon-triangle-top"}),t._v("\n                由小到大\n              ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeUserIdSort("down")}}},[a("span",{staticClass:"glyphicon glyphicon-triangle-bottom"}),t._v("\n                由大到小\n              ")])])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"form-control",attrs:{type:"number",id:"search-input-id",placeholder:"按照用户ID搜索"},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"search-input-email"}},[t._v("邮箱")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"search-input-email",placeholder:"请输入搜索邮箱地址，支持模糊搜索"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"search-input-phone"}},[t._v("手机号码")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"tel",id:"search-input-phone",placeholder:"请输入搜索手机号码，支持模糊搜索"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"search-input-name"}},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"search-input-name",placeholder:"请输入搜索用户名，支持模糊搜索"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"search-input-name"}},[t._v("角色")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-control",attrs:{id:"search-input-name"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.role=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),t._l(t.roles,function(e){var s=e.id,r=e.display_name;return a("option",{key:s,domProps:{value:s}},[t._v(t._s(r))])})],2)])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[a("router-link",{staticClass:"btn btn-default",attrs:{tag:"button",to:{path:"/users",query:t.searchQuery}}},[t._v("\n          搜索\n        ")])],1)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.error)+"\n  ")]),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",[a("tr",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}]},[a("td",{class:t.$style.loadding,attrs:{colspan:"6"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})])]),t._v(" "),t._l(t.users,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.created_at))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",to:"/users/manage/"+e.id}},[t._v("编辑")]),t._v(" "),-1!==t.deleteIds.indexOf(e.id)?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){t.deleteUser(e.id)}}},[t._v("删除")])],1)])})],2)]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.page>=1&&t.lastPage>1,expression:"page >= 1 && lastPage > 1"}],staticClass:"pager"},[a("li",{staticClass:"previous",class:t.page<=1?"disabled":""},[a("router-link",{attrs:{to:{path:"/users",query:t.prevQuery}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("←")]),t._v("\n        上一页\n      ")])],1),t._v(" "),a("li",{staticClass:"next",class:t.page>=t.lastPage?"disabled":""},[a("router-link",{attrs:{to:{path:"/users",query:t.nextQuery}}},[t._v("\n        下一页\n        "),a("span",{attrs:{"aria-hidden":"true"}},[t._v("→")])])],1)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户ID")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("邮箱")]),t._v(" "),a("th",[t._v("手机号码")]),t._v(" "),a("th",[t._v("注册时间")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(93)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(94),n=a.n(r),i=a(95),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"_1rfKjF_Jbsrt-NPuVUF68J_0",loadding:"_12izD6_COs4Sv6Mf_3NeY4_0",loaddingIcon:"_2QJw2UnKca7-Q7P6_KVdU0_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o=a(1),l=s(o),c=a(5),u=s(c),d={data:function(){return{roles:[],loadding:!0,deleteIds:{},add:{name:"",display_name:"",description:"",adding:!1},error:null}},methods:{postRole:function(){var t=this;this.add.adding=!0;var e=this.add,a=e.name,s=e.display_name,r=e.description;l.default.post((0,o.createRequestURI)("roles"),{name:a,display_name:s,description:r},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data;t.roles=[].concat(n(t.roles),[a]),t.add={name:"",display_name:"",description:"",adding:!1}}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data,r=void 0===s?{}:s,n=r.errors,i=void 0===n?["添加失败"]:n,o=u.default.values(i).pop();t.add.adding=!1,t.error=o})},deleteIdsItem:function(t){var e={};for(var a in this.deleteIds)parseInt(a)!==parseInt(t)&&(e[a]=t);this.deleteIds=e},deleteRole:function(t){var e=this;window.confirm("是否确认删除？")&&(this.deleteIds=i({},this.deleteIds,r({},t,t))),l.default.delete((0,o.createRequestURI)("roles/"+t),{validateStatus:function(t){return 204===t}}).then(function(){e.deleteIdsItem(t);var a=[];e.roles.forEach(function(e){e.id!==t&&a.push(e)}),e.roles=a}).catch(function(a){var s=a.response;s=void 0===s?{}:s;var r=s.data;r=void 0===r?{}:r;var n=r.errors,i=void 0===n?["删除失败"]:n;e.deleteIdsItem(t),e.error=u.default.values(i).pop()})},dismisError:function(){this.error=null}},created:function(){var t=this;this.loadding=!0,l.default.get((0,o.createRequestURI)("roles"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data;t.loadding=!1,t.roles=a}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.errors,n=void 0===r?["加载失败,请刷新重试！"]:r;t.loadding=!1,t.error=u.default.values(n).pop()})}};e.default=d},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",class:t.$style.container},[a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n    尽量不要删除用户组～删除用户组会造成用户组混乱！请谨慎编辑。\n  ")]),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",[t._l(t.roles,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.display_name))]),t._v(" "),a("td",[t._v(t._s(e.description))]),t._v(" "),a("td",[t._v(t._s(e.updated_at))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:""+e.id,tag:"button",append:"",exact:"",type:"button"}},[t._v("管理")]),t._v(" "),t.deleteIds.hasOwnProperty(e.id)?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.deleteRole(e.id)}}},[t._v("删除")])],1)])}),t._v(" "),a("tr",[a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.name,expression:"add.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入角色名称"},domProps:{value:t.add.name},on:{input:function(e){e.target.composing||(t.add.name=e.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.display_name,expression:"add.display_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入显示名称"},domProps:{value:t.add.display_name},on:{input:function(e){e.target.composing||(t.add.display_name=e.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.description,expression:"add.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入节点描述"},domProps:{value:t.add.description},on:{input:function(e){e.target.composing||(t.add.description=e.target.value)}}})])]),t._v(" "),a("td"),t._v(" "),a("td",[t.add.adding?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){if(!("button"in e)&&t._k(e.keyCode,"pervent"))return null;t.postRole(e)}}},[t._v("添加")])])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.error)+"\n  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}],class:t.$style.loadding},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("角色名称")]),t._v(" "),a("th",[t._v("显示名称")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(97),r=a.n(s),n=a(98),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),n=s(r),i=a(5),o=s(i),l={data:function(){return{perms:[],seleced:[],role:{},loadding:!1,submit:!1,error:null}},computed:{checkBoxSelectAll:{get:function(){return this.perms.length===this.seleced.length},set:function(t){if(!1===t)return void(this.seleced=[]);var e=[];this.perms.forEach(function(t){return e.push(t.id)}),this.seleced=e}}},methods:{postPerms:function(){var t=this,e=this.seleced,a=this.role.id;this.submit=!0,n.default.patch((0,r.createRequestURI)("roles/"+a),{perms:e},{validateStatus:function(t){return 201===t}}).then(function(){t.submit=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.errors,n=void 0===r?["更新失败"]:r;t.submit=!1,t.error=o.default.values(n).pop()})},goBack:function(){this.$router.back()},dismisError:function(){this.error=null}},created:function(){var t=this,e=this.$route.params.role;this.loadding=!0,n.default.get((0,r.createRequestURI)("roles/"+e),{params:{all_perms:!0,perms:!0},validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=a.perms,r=a.role;t.perms=s,t.role=r;var n=[];r.perms.forEach(function(t){return n.push(t.id)}),t.seleced=n,t.loadding=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.errors,n=void 0===r?["加载失败，请刷新重试！"]:r;t.loadding=!1,t.error=o.default.values(n).pop()})}};e.default=l},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBoxSelectAll,expression:"checkBoxSelectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkBoxSelectAll)?t._i(t.checkBoxSelectAll,null)>-1:t.checkBoxSelectAll},on:{__c:function(e){var a=t.checkBoxSelectAll,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.checkBoxSelectAll=a.concat(null)):n>-1&&(t.checkBoxSelectAll=a.slice(0,n).concat(a.slice(n+1)))}else t.checkBoxSelectAll=r}}})]),t._v(" "),a("th",[t._v("节点名称")]),t._v(" "),a("th",[t._v("显示名称")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",t._l(t.perms,function(e){return a("tr",{on:{key:e.id}},[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.seleced,expression:"seleced"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.seleced)?t._i(t.seleced,e.id)>-1:t.seleced},on:{__c:function(a){var s=t.seleced,r=a.target,n=!!r.checked;if(Array.isArray(s)){var i=e.id,o=t._i(s,i);r.checked?o<0&&(t.seleced=s.concat(i)):o>-1&&(t.seleced=s.slice(0,o).concat(s.slice(o+1)))}else t.seleced=n}}})]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.display_name))]),t._v(" "),a("td",[t._v(t._s(e.description))])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}],staticClass:"component-loadding"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.error)+"\n  ")]),t._v(" "),t.submit?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.postPerms}},[t._v("提交")])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(100)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(101),n=a.n(r),i=a(102),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={container:"lWxMHASIe22tHRzHw5Jrt_0",loadding:"_24gnTDmaU_22fnRx6b_rdh_0",loaddingIcon:"_1XxUsqzTSJmFcRgogAR05X_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o=a(1),l=s(o),c=a(5),u=s(c),d={data:function(){return{perms:[],deleteIds:{},add:{name:"",display_name:"",description:"",adding:!1},loadding:!0,error:null}},methods:{postPerm:function(){var t=this;console.log(2);var e=this.add,a=e.name,s=e.display_name,r=e.description;this.add.adding=!0,l.default.post((0,o.createRequestURI)("perms"),{name:a,display_name:s,description:r},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data;t.perms=[].concat(n(t.perms),[a]),t.add={name:"",display_name:"",description:"",adding:!1}}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data,r=void 0===s?{}:s,n=r.errors,i=void 0===n?["更新失败"]:n,o=u.default.values(i).pop();t.error=o,t.add.adding=!1})},updatePerm:function(t,e,a){var s=this;l.default.patch((0,o.createRequestURI)("perms/"+t),{key:e,value:a},{validateStatus:function(t){return 201===t}}).then(function(){}).catch(function(t){var e=t.response;e=void 0===e?{}:e;var a=e.data,r=void 0===a?{}:a,n=r.errors,i=void 0===n?["更新失败"]:n,o=u.default.values(i).pop();s.error=o})},deletePerm:function(t){var e=this;if(window.confirm("确认删除节点？")){this.deleteIds=i({},this.deleteIds,r({},t,t));var a=function(t){var a={};for(var s in e.deleteIds)parseInt(s)!==parseInt(t)&&(a=i({},a,r({},s,s)));e.deleteIds=a};l.default.delete((0,o.createRequestURI)("perms/"+t),{validateStatus:function(t){return 204===t}}).then(function(){a(t),e.deletePermToState(t)}).catch(function(s){var r=s.response;r=void 0===r?{}:r;var n=r.data,i=void 0===n?{}:n,o=i.errors,l=void 0===o?["删除失败"]:o,c=u.default.values(l).pop();a(t),e.error=c})}},deletePermToState:function(t){var e=[];this.perms.forEach(function(a){parseInt(a.id)!==parseInt(t)&&e.push(a)}),this.perms=e},dismisError:function(){this.error=null}},created:function(){var t=this;l.default.get((0,o.createRequestURI)("perms"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data;t.perms=a,t.loadding=!1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.errors,n=void 0===r?["获取失败，请刷新重试！"]:r;t.error=u.default.values(n).pop(),t.loadding=!1})}};e.default=d},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",class:t.$style.container},[t._m(0),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),a("tbody",[t._l(t.perms,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"输入名称"},domProps:{value:e.display_name},on:{change:function(a){if(!("button"in a)&&t._k(a.keyCode,"lazy"))return null;t.updatePerm(e.id,"display_name",a.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"输入名称"},domProps:{value:e.description},on:{change:function(a){if(!("button"in a)&&t._k(a.keyCode,"lazy"))return null;t.updatePerm(e.id,"description",a.target.value)}}})])]),t._v(" "),a("td",[t._v(t._s(e.updated_at))]),t._v(" "),a("td",[t.deleteIds.hasOwnProperty(e.id)?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){a.preventDefault(),t.deletePerm(e.id)}}},[t._v("删除")])])])}),t._v(" "),a("tr",[a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.name,expression:"add.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入节点名称"},domProps:{value:t.add.name},on:{input:function(e){e.target.composing||(t.add.name=e.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.display_name,expression:"add.display_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入显示名称"},domProps:{value:t.add.display_name},on:{input:function(e){e.target.composing||(t.add.display_name=e.target.value)}}})])]),t._v(" "),a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.description,expression:"add.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入节点描述"},domProps:{value:t.add.description},on:{input:function(e){e.target.composing||(t.add.description=e.target.value)}}})])]),t._v(" "),a("td"),t._v(" "),a("td",[t.add.adding?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){if(!("button"in e)&&t._k(e.keyCode,"pervent"))return null;t.postPerm(e)}}},[t._v("添加")])])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadding,expression:"loadding"}],class:t.$style.loadding},[a("span",{staticClass:"glyphicon glyphicon-refresh",class:t.$style.loaddingIcon})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.error)+"\n  ")])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n    权限节点，用于各个位置标示用户权限的配置～配置需要配合程序。尽量不要删除权限节点～以为节点name是在程序中赢编码的～\n    这里提供管理，只是方便技术人员对节点进行管理。\n    "),a("p",[t._v("编辑节点内容，修改完成后可直接回车或者留任不管～失去焦点后会自动保存。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("节点名称")]),t._v(" "),a("th",[t._v("显示名称")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(104),r=a.n(s),n=a(105),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i=a(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i),l={data:function(){return{loadding:{state:0,message:""},option:{},roles:[],submit:{state:!1,type:"muted",message:""}}},methods:{request:function(){var t=this;this.loadding.state=0,o.default.get((0,i.createRequestURI)("user/setting"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=void 0===a?{}:a,r=s.roles,i=void 0===r?[]:r,o=s.current_role;t.roles=i,t.option=n({},t.option,{role:o}),t.loadding.state=1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0],l=void 0===o?"加载失败":o;t.loadding={state:2,message:l}})},submitHandle:function(){var t=this,e=this.option.role;this.submit.state=!0,o.default.patch((0,i.createRequestURI)("user/setting"),{role:e},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data,s=void 0===a?{}:a,n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0];t.submit={state:!1,type:"success",message:o},window.setTimeout(function(){t.submit.message=""},1500)}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message,i=void 0===n?[]:n,o=r.role,l=void 0===o?[]:o,c=[].concat(s(l),s(i)),u=c[0],d=void 0===u?"提交失败":u;t.submit={state:!1,type:danger,message:d}})}},created:function(){this.request()}};e.default=l},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("设置用户相关基础信息")]),t._v(" "),0===t.loadding.state?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.loadding.state?a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"app-key"}},[t._v("默认用户组")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.option.role,expression:"option.role"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.option.role=e.target.multiple?a:a[0]}}},t._l(t.roles,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.display_name))])}))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.submit.state?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n            提交...\n          ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submitHandle(e)}}},[t._v("提交")])]),t._v(" "),a("div",{staticClass:"col-sm-6 help-block"},[a("span",{class:"text-"+t.submit.type},[t._v(t._s(t.submit.message))])])])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.loadding.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.request(e)}}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"app-key-help"}},[t._v("选择用户注册的默认用户组")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(107),n=s(r),i=a(109),o=s(i),l=a(112),c=s(l),u={path:"sms",component:n.default,children:[{path:"",component:o.default},{path:"alidayu",component:c.default}]};e.default=u},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(108),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs component-controller-nav"},[a("router-link",{attrs:{to:"/sms",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("验证码记录")])]),t._v(" "),a("router-link",{attrs:{to:"/sms/alidayu",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("阿里大于")])])],1),t._v(" "),a("router-view")],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(110),r=a.n(s),n=a(111),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),r=function(t){return t&&t.__esModule?t:{default:t}}(s),n={data:function(){return{search:{state:-1,keyword:""},loading:!1,logs:[],error:null,currentPage:1}},methods:{nextPage:function(){this.requestLogs(parseInt(this.currentPage)+1)},prevPage:function(){this.requestLogs(parseInt(this.currentPage)-1)},searchHandle:function(){this.requestLogs(1)},dismisError:function(){this.error=null},changeState:function(t){this.search.after=[],this.search.state=t},requestLogs:function(t){var e=this,a={page:t};this.search.state>=0&&(a.state=this.search.state),this.search.keyword.length&&(a.phone=this.search.keyword),this.loading=!0,r.default.get((0,s.createRequestURI)("sms"),{params:a,validateStatus:function(t){return 200===t}}).then(function(t){var a=t.data,s=void 0===a?{}:a;e.loading=!1;var r=s.current_page,n=void 0===r?1:r,i=s.data,o=void 0===i?[]:i;if(!o.length)return void(e.error="没有数据可加载");e.currentPage=n,e.logs=o}).catch()}},created:function(){this.searchHandle()}};e.default=n},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.dismisError(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v("\n    "+t._s(t.error)+"\n  ")]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-6"},[a("div",{staticClass:"input-group",staticStyle:{"max-width":"356px"}},[a("div",{staticClass:"input-group-btn"},[t._m(0),t._v(" "),a("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"state"}},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeState(-1)}}},[-1===t.search.state?a("span",{staticClass:"glyphicon glyphicon-ok-circle"}):a("span",{staticClass:"glyphicon glyphicon-record"}),t._v("\n                    全部状态\n                  ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeState(0)}}},[0===t.search.state?a("span",{staticClass:"glyphicon glyphicon-ok-circle"}):a("span",{staticClass:"glyphicon glyphicon-record"}),t._v("\n                    未发送\n                  ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeState(1)}}},[1===t.search.state?a("span",{staticClass:"glyphicon glyphicon-ok-circle"}):a("span",{staticClass:"glyphicon glyphicon-record"}),t._v("\n                    发送成功\n                  ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeState(2)}}},[2===t.search.state?a("span",{staticClass:"glyphicon glyphicon-ok-circle"}):a("span",{staticClass:"glyphicon glyphicon-record"}),t._v("\n                    发送失败\n                  ")])])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.keyword,expression:"search.keyword"}],staticClass:"form-control",attrs:{type:"text","aria-label":"input-group-btn",placeholder:"输入要搜索的手机号码"},domProps:{value:t.search.keyword},on:{input:function(e){e.target.composing||(t.search.keyword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-btn"},[!0===t.loading?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n                搜索...\n              ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.searchHandle(e)}}},[t._v("搜索")])])])]),t._v(" "),a("div",{staticClass:"col-xs-6 text-right"},[a("ul",{staticClass:"pagination",staticStyle:{margin:"0"}},[a("li",{class:parseInt(this.currentPage)<=1?"disabled":null},[a("a",{attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.prevPage(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#","aria-label":"Next"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.nextPage(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])])])])]),t._v(" "),a("table",{staticClass:"table table-hove"},[t._m(1),t._v(" "),a("tbody",t._l(t.logs,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.code))]),t._v(" "),0===e.state?a("td",{staticStyle:{color:"#5bc0de"}},[t._v("未发送")]):1===e.state?a("td",{staticStyle:{color:"#449d44"}},[t._v("发送成功")]):2===e.state?a("td",{staticStyle:{color:"#d9534f"}},[t._v("发送失败")]):a("td",[t._v("未知状态")]),t._v(" "),a("td",[t._v(t._s(e.created_at))])])}))])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button",id:"state","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("状态 "),a("span",{staticClass:"caret"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("手机号码")]),t._v(" "),a("th",[t._v("验证码")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("时间")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(113),r=a.n(s),n=a(114),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{loadding:{state:0,message:""},submit:{state:!1,type:"muted",message:""},options:{}}},methods:{request:function(){var t=this;this.loadding.state=0,n.default.get((0,r.createRequestURI)("sms/driver/alidayu"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=void 0===a?{}:a;t.loadding.state=1,t.options=s}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"加载失败":o;t.loadding.state=2,t.loadding.message=l})},submitHandle:function(){var t=this,e=this.options,a=e.app_key,i=void 0===a?null:a,o=e.app_secret,l=void 0===o?null:o,c=e.sign_name,u=void 0===c?null:c,d=e.verify_template_id,v=void 0===d?null:d;this.submit.state=!0,n.default.patch((0,r.createRequestURI)("sms/driver/alidayu"),{app_key:i,app_secret:l,sign_name:u,verify_template_id:v},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.message;a=void 0===a?[]:a;var r=s(a,1),n=r[0],i=void 0===n?"提交成功":n;t.submit.state=!1,t.submit.type="success",t.submit.message=i}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message;n=void 0===n?[]:n;var i=s(n,1),o=i[0],l=void 0===o?"提交失败":o;t.submit.state=!1,t.submit.type="danger",t.submit.message=l})}},created:function(){var t=this;window.setTimeout(function(){return t.request()},500)}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("阿里大于 - 驱动配置")]),t._v(" "),0===t.loadding.state?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.loadding.state?a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"app-key"}},[t._v("App Key")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.app_key,expression:"options.app_key"}],staticClass:"form-control",attrs:{type:"text",name:"app_key",id:"app-key",placeholder:"请输入应用 AppKey","aria-describedby":"app-key-help"},domProps:{value:t.options.app_key},on:{input:function(e){e.target.composing||(t.options.app_key=e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"app-secret"}},[t._v("App Secret")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.app_secret,expression:"options.app_secret"}],staticClass:"form-control",attrs:{type:"text",name:"app_secret",id:"app-secret",placeholder:"请输入应用 App Secret","aria-describedby":"app-secret-help"},domProps:{value:t.options.app_secret},on:{input:function(e){e.target.composing||(t.options.app_secret=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"sign-name"}},[t._v("短信签名")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.sign_name,expression:"options.sign_name"}],staticClass:"form-control",attrs:{type:"text",name:"sign_name",id:"sign-name",placeholder:"请输入短信签名名称","aria-describedby":"sign-name-help"},domProps:{value:t.options.sign_name},on:{input:function(e){e.target.composing||(t.options.sign_name=e.target.value)}}})]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"template-id"}},[t._v("模板ID")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.options.verify_template_id,expression:"options.verify_template_id"}],staticClass:"form-control",attrs:{type:"text",name:"template_id",id:"template-id",placeholder:"请输入短信模板id","aria-describedby":"template-id-help"},domProps:{value:t.options.verify_template_id},on:{input:function(e){e.target.composing||(t.options.verify_template_id=e.target.value)}}})]),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.submit.state?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n            提交...\n          ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.submitHandle(e)}}},[t._v("提交")])]),t._v(" "),a("div",{staticClass:"col-sm-6 help-block"},[a("span",{class:"text-"+t.submit.type},[t._v(t._s(t.submit.message))])])])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.loadding.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.request(e)}}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"app-key-help"}},[t._v("输入应用 App Key 信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"app-secret-help"}},[t._v("输入应用 App Secret 信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"sign-name-help"}},[t._v("请输入短信签名的名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"template-id-help"}},[t._v("请输入短信模板id")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(116),n=s(r),i=a(118),o=s(i),l=a(120),c=s(l),u=a(123),d=s(u),v=a(127),p=s(v),f=a(131),m=s(f),_=a(135),h=s(_),g=a(139),y=s(g),b=a(142),C=s(b),w=a(145),P=s(w),k={path:"wallet",component:n.default,children:[{path:"",component:o.default},{path:"accounts",component:c.default},{path:"cash",component:d.default},{path:"cash/setting",component:p.default},{path:"pay/option",component:m.default},{path:"pay/rule",component:h.default},{path:"pay/ratio",component:P.default},{path:"pay/type",component:y.default},{path:"pay/pingpp",component:C.default}]};e.default=k},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(117),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs component-controller-nav"},[a("router-link",{attrs:{to:"/wallet",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("统计")])]),t._v(" "),a("router-link",{attrs:{to:"/wallet/accounts",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("流水")])]),t._v(" "),a("router-link",{attrs:{to:"/wallet/cash",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("提现审批")])]),t._v(" "),a("li",{staticClass:"dropdown",attrs:{role:"presentation"}},[t._m(0),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("router-link",{attrs:{to:"/wallet/pay/option",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("充值选项")])]),t._v(" "),a("router-link",{attrs:{to:"/wallet/pay/rule",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("规则设置")])]),t._v(" "),a("router-link",{attrs:{to:"/wallet/pay/ratio",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("转换比例")])])],1)]),t._v(" "),a("li",{staticClass:"dropdown",attrs:{role:"presentation"}},[t._m(1),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("router-link",{attrs:{to:"/wallet/pay/type",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("支付选项")])]),t._v(" "),a("router-link",{attrs:{to:"/wallet/pay/pingpp",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("Ping++")])])],1)])],1),t._v(" "),a("router-view")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        基础设置 "),a("span",{staticClass:"caret"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        支付设置 "),a("span",{staticClass:"caret"})])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(119),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("报表")])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(121),r=a.n(s),n=a(122),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var a={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o=a(5),l=s(o),c=a(1),u=s(c),d={applepay_upacp:"Apple Pay",alipay:"支付宝 APP",alipay_pc_direct:"支付宝电脑网站",alipay_qr:"支付宝扫码",alipay_wap:"支付宝手机网页",wx:"微信 APP",wx_wap:"微信 WAP"};e.default={data:function(){return{search:{user:null,account:null,chargeId:null,transactionNo:null,action:null,status:null},page:{current:1,total:1},charges:[],load:{status:0,message:""}}},computed:{searchQuery:function(){return l.default.reduce(this.search,function(t,e,a){return e&&(t[a]=e),t},{})},pagination:function(){var t=1;t=isNaN(t=parseInt(this.page.current))?1:t;var e=1;e=isNaN(e=parseInt(this.page.total))?1:e;var a=e>1,s=t-3;s=s<=1?1:s;var r=t+3;r=r>=e?e:r;var n=!1,i=[];if(t>s){n=t-1,s>1&&i.push({name:t<6?1:"1...",page:1});for(var o=s;o<t;o++)i.push({name:o,page:o})}var l=!1,c=[];if(t<r){for(var u=t+1;u<=r;u++)c.push({name:u,page:u});r<e&&c.push({name:t+4===e?e:"..."+e,page:e}),l=t+1}return{isPrevPage:n,isNextPage:l,current:t,show:a,prevPages:i,nextPages:c}}},watch:{$route:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,a=void 0===e?{}:e;this.requestCharge(this.resolveQuery(a))}},methods:{resolvePaginationRoute:function(t){return{path:"/wallet/accounts",query:i({},this.resolveQuery(),{page:t})}},resolvePayChannel:function(t){var e=d[t];return void 0===e?"余额":e},resolveChargeUserDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=t.name;return e?a+" ("+e+")":null},requestRefresh:function(){this.requestCharge(i({page:this.page.current},this.resolveQuery()))},resolveQuery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$route.query;return l.default.reduce(t,function(t,e,a){switch(a){case"user":case"action":case"status":if(e){t[a]=isNaN(e=parseInt(e))?null:e;break}t[a]=e;break;case"page":t[a]=isNaN(e=parseInt(e))||e<=1?1:e;default:t[a]=e}return t},{})},requestCharge:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.load.status=0,u.default.get((0,c.createRequestURI)("wallet/charges"),{params:e,validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=a.total,r=void 0===s?1:s,n=a.current,i=void 0===n?1:n,o=a.items,l=void 0===o?[]:o;t.load.status=1,t.page={total:r,current:i},t.charges=l}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message;r=void 0===r?[]:r;var i=n(r,1),o=i[0],l=void 0===o?"加载失败，请刷新重试":o;t.load={message:l,status:2}})}},created:function(){var t=this.resolveQuery(),e=t.page,a=void 0===e?1:e,s=r(t,["page"]);this.search=i({},this.search,s),this.page.current=a,this.requestCharge(i({},s,{page:a}))}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("订单流水")]),t._v(" "),a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("用户")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.user,expression:"search.user"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.search.user},on:{input:function(e){e.target.composing||(t.search.user=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"help-block col-sm-6"},[t._v("输入交易账户的用户 ID")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("交易账户")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.account,expression:"search.account"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.account},on:{input:function(e){e.target.composing||(t.search.account=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("输入交易账户，应用内交易则为用户ID")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("Ping++ 凭据")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.chargeId,expression:"search.chargeId"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.chargeId},on:{input:function(e){e.target.composing||(t.search.chargeId=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("输入来自于 Ping++ 平台的凭据 ID")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("订单 ID")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.transactionNo,expression:"search.transactionNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search.transactionNo},on:{input:function(e){e.target.composing||(t.search.transactionNo=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("输入第三方平台的订单 ID，例如支付宝订单")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("类型")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.action,expression:"search.action"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.search.action=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[t._v("全部")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("增项")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("减项")])])]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("选择订单交易类型")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("状态")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.search.status,expression:"search.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.search.status=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[t._v("全部")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("等待")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("成功")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("失败")])])]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("选择订单的交易状态")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[a("router-link",{staticClass:"btn btn-primary",attrs:{tag:"button",to:{path:"/wallet/accounts",query:t.searchQuery}}},[t._v("搜索")])],1)])]),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("table",{staticClass:"table table-striped table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.charges,function(e){return a("tr",{key:e.id,class:2===e.status?"danger":1===e.status?"success":""},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(t.resolveChargeUserDisplay(e.user)))]),t._v(" "),a("td",[t._v(t._s(t.resolvePayChannel(e.channel)))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.charge_id))]),t._v(" "),a("td",[t._v(t._s(e.transaction_no))]),t._v(" "),a("td",[t._v(t._s(1==e.action?"+":"-")+t._s(e.amount/100))]),t._v(" "),a("td",[t._v("\n            "+t._s(e.subject)),a("br"),t._v(" "),a("small",[t._v(t._s(e.body))])]),t._v(" "),0===e.status?a("td",[t._v("等待")]):1===e.status?a("td",[t._v("成功")]):2===e.status?a("td",[t._v("失败")]):a("td",[t._v("未知")]),t._v(" "),a("td",[t._v(t._s(e.created_at))])])}))]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestRefresh}},[t._v("重试")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.show,expression:"pagination.show"}],staticClass:"text-center"},[a("ul",{staticClass:"pagination"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:!!t.pagination.isPrevPage,expression:"!!pagination.isPrevPage"}],attrs:{tag:"li",to:t.resolvePaginationRoute(t.pagination.isPrevPage)}},[a("a",{attrs:{"aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagination.prevPages,function(e){return a("router-link",{key:e.page,attrs:{tag:"li",to:t.resolvePaginationRoute(e.page)}},[a("a",[t._v(t._s(e.name))])])}),t._v(" "),a("router-link",{staticClass:"active",attrs:{tag:"li",to:t.resolvePaginationRoute(t.pagination.current)}},[a("a",[t._v("\n          "+t._s(t.pagination.current)+"\n        ")])]),t._v(" "),t._l(t.pagination.nextPages,function(e){return a("router-link",{key:e.page,attrs:{tag:"li",to:t.resolvePaginationRoute(e.page)}},[a("a",[t._v(t._s(e.name))])])}),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:!!t.pagination.isNextPage,expression:"!!pagination.isNextPage"}],attrs:{tag:"li",to:t.resolvePaginationRoute(t.pagination.isNextPage)}},[a("a",{attrs:{"aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("用户（ID）")]),t._v(" "),a("th",[t._v("支付频道")]),t._v(" "),a("th",[t._v("交易账户")]),t._v(" "),a("th",[t._v("Ping++")]),t._v(" "),a("th",[t._v("订单ID")]),t._v(" "),a("th",[t._v("金额")]),t._v(" "),a("th",[t._v("交易信息")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("时间")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(124)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(125),n=a.n(r),i=a(126),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={alert:"_18zkCHcsD6BvYfk_RfuVLu_0",modal:"gHPYWsfLJKHf2gOJRSGds_0",modalContent:"_1O4OTL2FvYuh6CpTMSyGwW_0",modalIcon:"_2mwThkOL24of1sO1PKbvpu_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},c=a(1),u=s(c),d=a(5),v=s(d);e.default={data:function(){return{cashes:[],query:{},queryTemp:{user:null,status:"all",order:"desc"},page:{last:0,current:1,first:1},alert:{status:!1,message:"",type:"info",interval:null},loading:!0,ratio:100,actions:{},remarks:{},modal:{status:!1,interval:null,type:!1,message:""}}},computed:{pagination:function(){var t=1;t=isNaN(t=parseInt(this.page.current))?1:t;var e=1;e=isNaN(e=parseInt(this.page.last))?1:e;var a=e>1,s=t-3;s=s<=1?1:s;var r=t+3;r=r>=e?e:r;var n=!1,i=[];if(t>s){n=t-1,s>1&&i.push({name:t<6?1:"1...",page:1});for(var o=s;o<t;o++)i.push({name:o,page:o})}var l=!1,c=[];if(t<r){for(var u=t+1;u<=r;u++)c.push({name:u,page:u});r<e&&c.push({name:t+4===e?e:"..."+e,page:e}),l=t+1}return{isPrevPage:n,isNextPage:l,current:t,show:a,prevPages:i,nextPages:c}},searchQuery:function(){return l({},this.query,this.queryTemp,{page:1})}},watch:{$route:function(t){var e=this.resolveQueryString(t),a=e.page,s=void 0===a?this.page.current:a,r=i(e,["page"]),n=r,o=void 0===n?this.query:n;this.query=o,this.page.current=s,this.requestCashes(l({},o,{page:s}))}},methods:{requestCashRefuse:function(t){var e=this,a=this.remarks[t];if(!a)return void this.sendModal("请输入备注内容",!1);this.actions=l({},this.actions,n({},t,2)),u.default.patch((0,c.createRequestURI)("wallet/cashes/"+t+"/refuse"),{remark:a},{validateStatus:function(t){return 201===t}}).then(function(){e.actions=v.default.reduce(e.actions,function(e,a,s){return parseInt(t)!==parseInt(s)&&(e[s]=a),e},{}),e.cashes=v.default.reduce(e.cashes,function(e,s){return t===s.id&&(s.remark=a,s.status=2),e.push(s),e},[]),e.sendModal("操作成功！")}).catch(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.response;s=void 0===s?{}:s;var n=s.data;n=void 0===n?{}:n;var i=n.remark,o=void 0===i?[]:i,l=n.message,c=void 0===l?[]:l,u=[].concat(r(o),r(c)),d=u[0],p=void 0===d?"提交失败，请刷新网页重试！":d;e.actions=v.default.reduce(e.actions,function(e,a,s){return parseInt(t)!==parseInt(s)&&(e[s]=a),e},{}),e.sendModal(p,!1)})},requestCashPassed:function(t){var e=this,a=this.remarks[t];if(!a)return void this.sendModal("请输入备注内容",!1);this.actions=l({},this.actions,n({},t,1)),u.default.patch((0,c.createRequestURI)("wallet/cashes/"+t+"/passed"),{remark:a},{validateStatus:function(t){return 201===t}}).then(function(){e.actions=v.default.reduce(e.actions,function(e,a,s){return parseInt(t)!==parseInt(s)&&(e[s]=a),e},{}),e.cashes=v.default.reduce(e.cashes,function(e,s){return t===s.id&&(s.remark=a,s.status=1),e.push(s),e},[]),e.sendModal("审核成功！")}).catch(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.response;s=void 0===s?{}:s;var n=s.data;n=void 0===n?{}:n;var i=n.remark,o=void 0===i?[]:i,l=n.message,c=void 0===l?[]:l,u=[].concat(r(o),r(c)),d=u[0],p=void 0===d?"提交失败，请刷新网页重试！":d;e.actions=v.default.reduce(e.actions,function(e,a,s){return parseInt(t)!==parseInt(s)&&(e[s]=a),e},{}),e.sendModal(p,!1)})},requestCashes:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.cashes=[],this.alert.status=!1,u.default.get((0,c.createRequestURI)("wallet/cashes"),{params:this.resolveStatus2Query(e),validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=void 0===a?{}:a,r=s.ratio,n=void 0===r?100:r,i=s.cashes,o=void 0===i?[]:i,l=s.current_page,c=void 0===l?t.page.current:l,u=s.first_page,d=void 0===u?t.page.first:u,v=s.last_page,p=void 0===v?thus.page.last:v;t.loading=!1,t.cashes=o,t.page={last:p,current:c,first:d},t.ratio=n}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message;r=void 0===r?[]:r;var n=o(r,1),i=n[0],l=void 0===i?"加载失败":i;t.loading=!1,t.page={last:0,current:1,first:1},t.sendAlert("danger",l,!1)})},sendModal:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;window.clearInterval(this.modal.interval),this.modal={type:!!a,message:t,status:!0,interval:window.setInterval(function(){e.modal.status=!1,window.clearInterval(e.modal.interval)},s)}},sendAlert:function(t,e){var a=this,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];window.clearInterval(this.alert.interval),this.loading=!1,this.alert=l({},this.alert,{type:t,message:e,status:!0,interval:s?window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.status=!1},2e3):null})},resolveStatus2Query:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l({},this.query,{page:this.page.current},t)},resolveQueryString:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!1!==t?t.query:this.$route.query,a=e.page,s=void 0===a?this.page.current:a,r=e.user,n=e.status,i=e.order,o={};return r&&(o.user=r),n&&(o.status=n),i&&(o.order=i),o.page=parseInt(s),o}},created:function(){this.requestCashes(this.resolveQueryString());var t=this.$route.query,e=t.user,a=t.status,s=t.order;this.queryTemp={user:e,status:a,order:s}}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("\n      提现审批\n      "),a("router-link",{staticClass:"pull-right",attrs:{to:"setting",append:"",replace:""}},[a("span",{staticClass:"glyphicon glyphicon-cog"}),t._v("\n        提现设置\n      ")])],1),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"form-inline"},[a("div",{staticClass:"form-group"},[a("label",[t._v("用户：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.queryTemp.user,expression:"queryTemp.user",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"User ID",min:"1"},domProps:{value:t.queryTemp.user},on:{change:function(e){t.queryTemp.user=e.target.value}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("状态")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.queryTemp.status,expression:"queryTemp.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.queryTemp.status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("全部")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("待审批")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("已审批")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("被拒绝")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("排序")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.queryTemp.order,expression:"queryTemp.order"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.queryTemp.order=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"desc"}},[t._v("最新申请")]),t._v(" "),a("option",{attrs:{value:"asc"}},[t._v("时间排序")])])]),t._v(" "),a("router-link",{staticClass:"btn btn-default",attrs:{tag:"button",to:{path:"/wallet/cash",query:t.searchQuery}}},[t._v("\n          搜索\n        ")])],1)]),t._v(" "),a("table",{directives:[{name:"show",rawName:"v-show",value:t.cashes.length,expression:"cashes.length"}],staticClass:"table table-striped table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.cashes,function(e){return a("tr",{key:e.id,class:2===e.status?"danger":1===e.status?"success":""},[a("td",[t._v(t._s(e.user.name)+" ("+t._s(e.user.id)+")")]),t._v(" "),a("td",[t._v(t._s(e.value/100*t.ratio/100)+" ("+t._s(e.value/100)+")")]),t._v(" "),"alipay"===e.type?a("td",[t._v("支付宝："+t._s(e.account))]):"wechat"===e.type?a("td",[t._v("微信："+t._s(e.account))]):a("td",[t._v("未知："+t._s(e.account))]),t._v(" "),1===e.status?a("td",[t._v("已审批")]):2===e.status?a("td",[t._v("被拒绝")]):a("td",[t._v("待审批")]),t._v(" "),t.actions[e.id]?a("td",[t._v(t._s(t.remarks[e.id]))]):0===e.status?a("td",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remarks[e.id],expression:"remarks[cash.id]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"备注"},domProps:{value:t.remarks[e.id]},on:{input:function(a){a.target.composing||t.$set(t.remarks,e.id,a.target.value)}}})])]):a("td",[t._v(t._s(e.remark))]),t._v(" "),0===e.status?a("td",[1===t.actions[e.id]?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):2===t.actions[e.id]?a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:"disabled"}},[t._v("通过")]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.requestCashPassed(e.id)}}},[t._v("通过")]),t._v(" "),2===t.actions[e.id]?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[t._v("拒绝")]):1===t.actions[e.id]?a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button",disabled:"disabled"}},[t._v("拒绝")]):a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){t.requestCashRefuse(e.id)}}},[t._v("拒绝")])]):a("td")])}))]),t._v(" "),t.loading?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):t.alert.status?a("div",{staticClass:"panel-body"},[a("div",{class:["alert","alert-"+t.alert.type,t.$style.alert],attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")]),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestCashes}},[t._v("重试")])]):t._e()]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.show,expression:"pagination.show"}],staticClass:"text-center"},[a("ul",{staticClass:"pagination"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:!!t.pagination.isPrevPage,expression:"!!pagination.isPrevPage"}],attrs:{tag:"li",to:{path:"/wallet/cash",query:t.resolveStatus2Query({page:t.pagination.isPrevPage})}}},[a("a",{attrs:{"aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagination.prevPages,function(e){return a("router-link",{key:e.page,attrs:{tag:"li",to:{path:"/wallet/cash",query:t.resolveStatus2Query({page:e.page})}}},[a("a",[t._v(t._s(e.name))])])}),t._v(" "),a("router-link",{staticClass:"active",attrs:{tag:"li",to:{path:"/wallet/cash",query:t.resolveStatus2Query({page:t.pagination.current})}}},[a("a",[t._v("\n          "+t._s(t.pagination.current)+"\n        ")])]),t._v(" "),t._l(t.pagination.nextPages,function(e){return a("router-link",{key:e.page,attrs:{tag:"li",to:{path:"/wallet/cash",query:t.resolveStatus2Query({page:e.page})}}},[a("a",[t._v(t._s(e.name))])])}),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:!!t.pagination.isNextPage,expression:"!!pagination.isNextPage"}],attrs:{tag:"li",to:{path:"/wallet/cash",query:t.resolveStatus2Query({page:t.pagination.isNextPage})}}},[a("a",{attrs:{"aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modal.status,expression:"modal.status"}],class:t.$style.modal},[a("div",{class:t.$style.modalContent},[a("div",{class:t.$style.modalIcon},[t.modal.type?a("span",{staticClass:"glyphicon glyphicon-ok-sign",staticStyle:{color:"#449d44"}}):a("span",{staticClass:"glyphicon glyphicon-warning-sign"})]),t._v("\n      "+t._s(t.modal.message)+"\n    ")])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户(用户ID)")]),t._v(" "),a("th",[t._v("金额(真实金额)")]),t._v(" "),a("th",[t._v("提现账户")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("操作")])])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(128)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(129),n=a.n(r),i=a(130),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={alert:"kU2xO7mSoPYQiLDZxw6mY_0"}},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i=a(1),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={data:function(){return{alert:{open:!1,interval:null,type:"info",message:null},cashType:[],minAmount:1,load:{status:0,message:""},update:!1}},computed:{minAmountCompute:{set:function(t){this.minAmount=100*t},get:function(){return this.minAmount/100}}},methods:{sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert=n({},this.alert,{type:t,message:e,open:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.open=!1},2e3)})},requestCashSetting:function(){var t=this;o.default.get((0,i.createRequestURI)("wallet/cash"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data;a=void 0===a?{}:a;var s=a.types,r=void 0===s?[]:s,n=a.min_amount,i=void 0===n?1:n;t.cashType=r,t.minAmount=i,t.load.status=1}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0],l=void 0===o?"加载失败":o;t.load={message:l,status:2}})},updateHandle:function(){var t=this;this.update=!0,o.default.patch((0,i.createRequestURI)("wallet/cash"),{types:this.cashType,min_amount:this.minAmount},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data;a=void 0===a?{}:a;var s=a.message;s=void 0===s?[]:s;var n=r(s,1),i=n[0],o=void 0===i?"更新成功":i;t.update=!1,t.sendAlert("success",o)}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.message,i=void 0===n?[]:n,o=r.types,l=void 0===o?[]:o,c=r.min_amount,u=void 0===c?[]:c;t.update=!1;var d=[].concat(s(i),s(l),s(u)),v=d[0],p=void 0===v?"更新失败，请刷新重试":v;t.sendAlert("danger",p)})}},created:function(){this.requestCashSetting()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("router-link",{attrs:{to:"/wallet/cash",replace:""}},[a("span",{staticClass:"glyphicon glyphicon-menu-left"}),t._v("\n        返回\n      ")]),t._v(" "),a("span",{staticClass:"pull-right"},[t._v("提现审批 - 提现设置")])],1),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("提现方式")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cashType,expression:"cashType"}],attrs:{type:"checkbox",value:"alipay"},domProps:{checked:Array.isArray(t.cashType)?t._i(t.cashType,"alipay")>-1:t.cashType},on:{__c:function(e){var a=t.cashType,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"alipay");s.checked?n<0&&(t.cashType=a.concat("alipay")):n>-1&&(t.cashType=a.slice(0,n).concat(a.slice(n+1)))}else t.cashType=r}}}),t._v(" 支付宝\n            ")])]),t._v(" "),a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cashType,expression:"cashType"}],attrs:{type:"checkbox",value:"wechat"},domProps:{checked:Array.isArray(t.cashType)?t._i(t.cashType,"wechat")>-1:t.cashType},on:{__c:function(e){var a=t.cashType,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"wechat");s.checked?n<0&&(t.cashType=a.concat("wechat")):n>-1&&(t.cashType=a.slice(0,n).concat(a.slice(n+1)))}else t.cashType=r}}}),t._v(" 微信\n            ")])])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("最低提现")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.minAmountCompute,expression:"minAmountCompute"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.minAmountCompute},on:{input:function(e){e.target.composing||(t.minAmountCompute=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("设置最低用户提现金额，这里设置真实金额，验证的时候会自动验证转换后金额。")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.update?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n            提交...\n          ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateHandle}},[t._v("提交")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.open,expression:"alert.open"}],class:["alert","alert-"+t.alert.type,t.$style.alert],attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestCashSetting}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block"},[t._v("选择用户提现支持的提现方式，如果都不勾选，则表示关闭提现功能。")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(132)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(133),n=a.n(r),i=a(134),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={input:"_1gk48jgPMkr-DqCx-15Qy5_0",labelBox:"_2xxNAnwVXAMC2m7Y3v7VB3_0",label:"_3sxbqz7ysithx58bvO8I0f_0",add:"_2-_SJqKm_4d5oVmwj3r0oY_0",labelDelete:"_17dl3QPDXrgRtLOluH_w6x_0",addLabel:"_3X6sAnYNcDwYl7F14RnCP7_0",alert:"_3il_emhs4MbYGIIyQi9Cfl_0"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o=a(1),l=s(o),c=a(5),u=s(c);e.default={data:function(){return{loadding:{status:0,message:""},labels:[],add:{inputStatus:!1,adding:!1,value:""},alert:{open:!1,interval:null,type:"info",message:null},del:{label:null,open:!1,ing:!1}}},methods:{openAddInput:function(){this.add.inputStatus=!0},addLabel:function(){var t=this,e=this.add.value;return(e=parseInt(100*e))?isNaN(e)?void this.sendAlert("danger","输入的选项存在错误字符"):-1!==this.labels.indexOf(e)?void this.sendAlert("danger","输入的选项已经存在"):(this.add.adding=!0,void l.default.post((0,o.createRequestURI)("wallet/labels"),{label:e},{validateStatus:function(t){return 201===t}}).then(function(){t.add={adding:!1,inputStatus:!1,value:""},t.labels=[].concat(r(t.labels),[e]),t.sendAlert("success","创建选项成功!")}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message,i=void 0===n?[]:n,o=s.label,l=void 0===o?[]:o,c=[].concat(r(i),r(l)),u=c[0],d=void 0===u?"创建失败，请检查网络！":u;t.add.adding=!1,t.sendAlert("danger",d)})):void this.sendAlert("danger","输入选项不能为空！")},sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert=i({},this.alert,{type:t,message:e,open:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.open=!1},2e3)})},requestLabel:function(){var t=this;this.loadding.status=0,l.default.get((0,o.createRequestURI)("wallet/labels"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=void 0===a?[]:a;t.labels=u.default.reduce(s,function(t,e){return t.push(parseInt(e)),t},[]),t.loadding.status=1}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message;r=void 0===r?[]:r;var i=n(r,1),o=i[0];t.loadding={status:2,message:o||"加载失败!"}})},sendDeleteLabel:function(){var t=this;this.del.ing=!0;var e=this.del.label;l.default.delete((0,o.createRequestURI)("wallet/labels/"+e),{validateStatus:function(t){return 204===t}}).then(function(){t.del={open:!1,ing:!1,label:null},t.labels=u.default.reduce(t.labels,function(t,a){return a!==e&&t.push(a),t},[]),t.sendAlert("success","删除成功!")}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var r=s.message,i=void 0===r?[]:r,o=n(i,1),l=o[0],c=void 0===l?"删除失败！":l;t.del.ing=!1,t.sendAlert("danger",c)})},unDeleteLabel:function(){if(this.del.ing)return!1;this.del={ing:!1,open:!1,label:null}},deleteLabel:function(t){this.del={open:!0,ing:!1,label:t}}},created:function(){this.requestLabel()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("基础设置 - 充值选项")]),t._v(" "),0===t.loadding.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.loadding.status?a("div",{staticClass:"panel-body"},[t._m(0),t._v(" "),a("div",{class:t.$style.labelBox},[t._l(t.labels,function(e){return a("span",{staticClass:"label label-info",class:t.$style.label},[t._v("\n          "+t._s(e/100)+"\n          "),a("span",{class:t.$style.labelDelete,attrs:{title:"删除","aria-hidden":"true"},on:{click:function(a){t.deleteLabel(e)}}},[t._v("×")])])}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.add.inputStatus,expression:"add.inputStatus === false"}],staticClass:"label label-danger",class:t.$style.add,on:{click:t.openAddInput}},[a("span",{staticClass:"glyphicon glyphicon-plus"}),t._v(" 添加\n        ")])],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.add.inputStatus,expression:"add.inputStatus === true"}],staticClass:"input-group",class:t.$style.addLabel},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.value,expression:"add.value"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"输入新的选项",disabled:t.add.adding},domProps:{value:t.add.value},on:{input:function(e){e.target.composing||(t.add.value=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[!1===t.add.adding?a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addLabel}},[a("span",{staticClass:"glyphicon glyphicon-plus"}),t._v(" 添加\n          ")]):a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v(" 添加...\n          ")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.open,expression:"alert.open"}],class:["alert","alert-"+t.alert.type,t.$style.alert],attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.del.open,expression:"del.open"}],staticClass:"alert alert-danger",class:t.$style.alert,attrs:{role:"alert"}},[a("p",[t._v("是否删除 「"),a("strong",[t._v(t._s(t.del.label/100))]),t._v("」 选项？")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.del.ing},on:{click:t.unDeleteLabel}},[t._v("取消")]),t._v(" "),!1===t.del.ing?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.sendDeleteLabel}},[t._v("删除")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v(" 删除...\n        ")])])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.loadding.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestLabel}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("blockquote",[a("p",[t._v("设置充值选项可以让用户在充值页面快速选择充值金额(只能输入整数)，用户也可以选择输入自定义金额进行充值。")]),t._v(" "),a("footer",[t._v("在使用 Apple Pay 充值是非常好的选择，因为苹果支付有这样要的要求。")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(136)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(137),n=a.n(r),i=a(138),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={alert:"_1-jHVXNOObbINCoPz14_FI_0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{load:{status:0,message:null},rule:null,update:!1,alert:{open:!1,interval:null,type:"info",message:null}}},methods:{loadRule:function(){var t=this;this.load.status=0,i.default.get((0,n.createRequestURI)("wallet/rule"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data.rule,s=void 0===a?null:a;t.load.status=1,t.rule=s}).catch(function(e){var a,s=e.response;s=void 0===s?{}:s;var r=s.data;r=void 0===r?{}:r;var n=r.message,i=void 0===n?(a=[],i=a[0],a):n;t.load={status:2,message:i}})},updateRule:function(){var t=this,e=this.rule;this.update=!0,i.default.patch((0,n.createRequestURI)("wallet/rule"),{rule:e},{validateStatus:function(t){return 201===t}}).then(function(){t.update=!1,t.sendAlert("success","更新成功！")}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0],l=void 0===o?"提交失败，请重试！":o;t.update=!1,t.sendAlert("danger",l)})},sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert=s({},this.alert,{type:t,message:e,open:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.open=!1},2e3)})}},created:function(){this.loadRule()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("基础设置 - 规则描述设置")]),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"wallet-rule"}},[t._v("规则描述")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rule,expression:"rule"}],staticClass:"form-control",attrs:{id:"wallet-rule",rows:"3","aria-describedby":"wallet-rule-help",placeholder:"输入规则"},domProps:{value:t.rule},on:{input:function(e){e.target.composing||(t.rule=e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.update?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n            提交...\n          ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateRule}},[t._v("提交")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.open,expression:"alert.open"}],class:["alert","alert-"+t.alert.type,t.$style.alert],attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.loadRule}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"wallet-rule"}},[t._v("输入充值、提现等描述规则。")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(140),r=a.n(s),n=a(141),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{load:{status:0,message:""},support:{},types:[],updating:!1,alert:{status:!1,type:"info",message:"",interval:null}}},methods:{sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert={type:t,message:e,status:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.status=!1},2e3)}},requestTypes:function(){var t=this;this.load.status=0,i.default.get((0,n.createRequestURI)("wallet/recharge/types"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data,s=a.support,r=void 0===s?{}:s,n=a.types,i=void 0===n?[]:n;t.load.status=1,t.support=r,t.types=i}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0],l=void 0===o?"加载失败，请刷新页面重试":o;t.load={status:2,message:l}})},updateType:function(){var t=this;this.updating=!0,i.default.patch((0,n.createRequestURI)("wallet/recharge/types"),{types:this.types},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.message;a=void 0===a?[]:a;var s=r(a,1),n=s[0],i=void 0===n?"更新成功":n;t.updating=!1,t.sendAlert("success",i)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.types,i=void 0===n?[]:n,o=r.message,l=void 0===o?[]:o,c=[].concat(s(i),[l]),u=c[0],d=void 0===u?"提交失败，请刷新网页重试":u;t.updating=!1,t.sendAlert("danger",d)})}},created:function(){this.requestTypes()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("支付设置 - 支付选项")]),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("div",{staticClass:"panel-body form-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("充值选项")]),t._v(" "),a("div",{staticClass:"col-sm-6"},t._l(t.support,function(e,s){return a("div",{key:s,staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.types,expression:"types"}],attrs:{type:"checkbox",disabled:t.updating},domProps:{value:s,checked:Array.isArray(t.types)?t._i(t.types,s)>-1:t.types},on:{__c:function(e){var a=t.types,r=e.target,n=!!r.checked;if(Array.isArray(a)){var i=s,o=t._i(a,i);r.checked?o<0&&(t.types=a.concat(i)):o>-1&&(t.types=a.slice(0,o).concat(a.slice(o+1)))}else t.types=n}}}),t._v(" "+t._s(e)+"\n            ")])])})),t._v(" "),a("span",{staticClass:"col-sm-4 help-block"},[t._v("选择不同场景下开启的支付方式，选择后对应场景则无此支付功能。")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t.updating?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateType}},[t._v("提交")])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.status,expression:"alert.status"}],class:["alert","alert-"+t.alert.type],staticStyle:{"margin-top":"16px"},attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestTypes}},[t._v("重试")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("blockquote",[a("p",[t._v("如果将充值选项全部取消，则表示关闭充值功能")]),t._v(" "),a("footer",[t._v("单个平台多个选择时针对不同场景的分类，关闭某个场景，某个场景则无支付。")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(143),r=a.n(s),n=a(144),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{appId:null,secretKey:null,publicKey:null,privateKey:null,load:{status:0,message:""},alert:{status:!1,type:"info",message:"",interval:null},updating:!1}},methods:{requestConfig:function(){var t=this;this.load.status=0,i.default.get((0,n.createRequestURI)("wallet/pingpp"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data;a=void 0===a?{}:a;var s=a.app_id,r=a.secret_key,n=a.public_key,i=a.private_key;t.load.status=1,t.appId=s,t.secretKey=r,t.publicKey=n,t.privateKey=i}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0];t.load={status:2,message:o}})},updateConfig:function(){var t=this;this.updating=!0,i.default.patch((0,n.createRequestURI)("wallet/pingpp"),{app_id:this.appId,secret_key:this.secretKey,public_key:this.publicKey,private_key:this.privateKey},{validateStatus:function(t){return 201===t}}).then(function(e){var a=e.data.message;a=void 0===a?[]:a;var s=r(a,1),n=s[0],i=void 0===n?"更新成功":n;t.updating=!1,t.sendAlert("success",i)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.response;a=void 0===a?{}:a;var r=a.data;r=void 0===r?{}:r;var n=r.app_id,i=void 0===n?[]:n,o=r.secret_key,l=void 0===o?[]:o,c=r.public_key,u=void 0===c?[]:c,d=r.private_key,v=void 0===d?[]:d,p=r.message,f=void 0===p?[]:p,m=[].concat(s(i),s(l),s(u),s(v),s(f)),_=m[0],h=void 0===_?"提交失败，请刷新重试！":_;t.updating=!1,t.sendAlert("danger",h)})},sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert={type:t,message:e,status:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.status=!1},1500)}}},created:function(){this.requestConfig()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("支付设置 -  Ping++")]),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("div",{staticClass:"panel-body form-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("应用 ID")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appId,expression:"appId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入应用 ID"},domProps:{value:t.appId},on:{input:function(e){e.target.composing||(t.appId=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("\n          请输入应用ID。\n        ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("Secret Key")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.secretKey,expression:"secretKey"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入 Secret Key"},domProps:{value:t.secretKey},on:{input:function(e){e.target.composing||(t.secretKey=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("\n          输入 Secret Key，非上线环境请输入 Test Secret Key，正式环境请输入 Live Secret Key。\n        ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("Ping++ 公钥")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.publicKey,expression:"publicKey"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.publicKey},on:{input:function(e){e.target.composing||(t.publicKey=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("\n          用于 Webhooks 回调时验证其正确性，不设置或者错误设置会造成所有异步通知的订单用户支付成功，但是不会到账。\n        ")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("商户私钥")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.privateKey,expression:"privateKey"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.privateKey},on:{input:function(e){e.target.composing||(t.privateKey=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t.updating?a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"})]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateConfig}},[t._v("提交")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.status,expression:"alert.status"}],class:["alert","alert-"+t.alert.type],staticStyle:{"margin-top":"16px"},attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestConfig}},[t._v("重试")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("blockquote",[a("p",[t._v("ThinkSNS+ 使用 "),a("a",{attrs:{href:"https://www.pingxx.com/",target:"block"}},[t._v("Ping++")]),t._v(" 进行支付集成，以提供统一的支付接口使其方便拓展。")]),t._v(" "),a("footer",[t._v("因为使用 RSA 进行认证，所以请服务器安装 OpenSSL 的 PHP 拓展。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"col-sm-6 help-block"},[t._v("\n          商户私钥是与 Ping++ 服务器交互的认证凭据，可以「"),a("a",{attrs:{href:""}},[t._v("点击这里")]),t._v("」获取一对 公／私钥，获取后倾妥善保管，公钥设置到 Ping++ 中，私钥设置在这里。\n        ")])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(146)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(147),n=a.n(r),i=a(148),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={alert:"_2GDhN1P5bM-BD821OsSYyg_0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=function(){function t(t,e){var a=[],s=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={data:function(){return{ratio:100,load:{status:0,message:null},update:!1,alert:{open:!1,interval:null,type:"info",message:null}}},methods:{requestRatio:function(){var t=this;this.load.status=0,i.default.get((0,n.createRequestURI)("wallet/ratio"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data.ratio;t.load.status=1,t.ratio=a}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0];t.load={status:2,message:o}})},updateRatio:function(){var t=this,e=this.ratio;this.update=!0,i.default.patch((0,n.createRequestURI)("wallet/ratio"),{ratio:e},{validateStatus:function(t){return 201===t}}).then(function(){t.update=!1,t.sendAlert("success","更新成功")}).catch(function(e){var a=e.response;a=void 0===a?{}:a;var s=a.data;s=void 0===s?{}:s;var n=s.message;n=void 0===n?[]:n;var i=r(n,1),o=i[0];t.update=!1,t.sendAlert("danger",o)})},sendAlert:function(t,e){var a=this;window.clearInterval(this.alert.interval),this.alert=s({},this.alert,{type:t,message:e,open:!0,interval:window.setInterval(function(){window.clearInterval(a.alert.interval),a.alert.open=!1},2e3)})}},created:function(){this.requestRatio()}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-container container-fluid"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("基础设置 - 转换比例")]),t._v(" "),0===t.load.status?a("div",{staticClass:"panel-body text-center"},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n      加载中...\n    ")]):1===t.load.status?a("div",{staticClass:"panel-body form-horizontal"},[t._m(0),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"wallet-ratio"}},[t._v("转换比例")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratio,expression:"ratio"}],staticClass:"form-control",attrs:{type:"number",name:"ratio",id:"wallet-ratio",placeholder:"输入转换比例","aria-describedby":"wallet-ratio-help",min:"1",max:"1000",step:"1"},domProps:{value:t.ratio},on:{input:function(e){e.target.composing||(t.ratio=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon2"}},[t._v("%")])])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-4"},[!0===t.update?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"disabled"}},[a("span",{staticClass:"glyphicon glyphicon-refresh component-loadding-icon"}),t._v("\n            提交...\n          ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.updateRatio(e)}}},[t._v("提交")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.alert.open,expression:"alert.open"}],class:["alert","alert-"+t.alert.type,t.$style.alert],attrs:{role:"alert"}},[t._v("\n        "+t._s(t.alert.message)+"\n      ")])]):a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.load.message))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.requestRatio}},[t._v("刷新")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("blockquote",[a("p",[t._v("转换比例为「真实货币」如人民币，美元等与钱包系统「用户余额」比例的设置。")]),t._v(" "),a("footer",[t._v("以「CNY」为例，比例设置为 200% 则充值 1CNY 则得到 2 余额。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("span",{staticClass:"help-block",attrs:{id:"wallet-ratio-help"}},[t._v("输入转换比例，不理只能是正整数，范围在 1 - 1000 之间。")])])}],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(150),r=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default={path:"ad",component:r.default}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(151),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs component-controller-nav"},[a("router-link",{attrs:{to:"/ad",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("统计")])]),t._v(" "),a("router-link",{attrs:{to:"/ad/list",tag:"li","active-class":"active"}},[a("a",{attrs:{href:"#"}},[t._v("广告管理")])])],1),t._v(" "),a("router-view")],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(153),n=s(r),i=a(155),o=s(i);e.default={path:"paid",component:n.default,children:[{path:"",component:o.default}]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(154),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs component-controller-nav"},[a("router-link",{attrs:{to:"/paid",tag:"li","active-class":"active",exact:""}},[a("a",{attrs:{href:"#"}},[t._v("基础设置")])]),t._v(" "),a("router-link",{attrs:{to:"/paid/manage",tag:"li","active-class":"active"}},[a("a",[t._v("付费管理")])])],1),t._v(" "),a("div",{staticClass:"component-container container-fluid"},[a("router-view")],1)])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(156),r=a.n(s),n=a(157),i=a(0),o=i(r.a,n.a,null,null,null);e.default=o.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{paidOpen:0}}}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("基础设置")]),t._v(" "),a("div",{staticClass:"panel-body form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("开启付费")]),t._v(" "),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paidOpen,expression:"paidOpen"}],attrs:{type:"radio",name:"open",value:"0"},domProps:{checked:t._q(t.paidOpen,"0")},on:{__c:function(e){t.paidOpen="0"}}}),t._v(" 关闭\n          ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.paidOpen,expression:"paidOpen"}],attrs:{type:"radio",name:"open",value:"1"},domProps:{checked:t._q(t.paidOpen,"1")},on:{__c:function(e){t.paidOpen="1"}}}),t._v(" 开启\n          ")])])]),t._v(" "),a("span",{staticClass:"col-sm-6 help-block"},[t._v("如果需要启动内容付费，则开启，设置关闭则关闭全部付费")])])])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){a(159)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(160),n=a.n(r),i=a(161),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r=a(11),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i={data:function(){return{access:"",password:"",error:null}},methods:{submit:function(){var t=this,e=this.access,a=this.password;this.error=null,n.default.login(e,a).then(function(e){t.$store.dispatch(s.USER_UPDATE,function(a){a(e.data),t.$router.replace(t.$route.query.redirect||"/")})}).catch(function(e){var a=e.response.data,s=void 0===a?{}:a,r=s.id,n=s.name,i=s.phone,o=s.email,l=s.password;t.error=r||n||i||o||l||"登录失败！"})}}};e.default=i},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"center-block login"},[a("form",{attrs:{role:"form"},on:{submit:function(e){e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"access"}},[t._v("账户")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.access,expression:"access"}],staticClass:"form-control",attrs:{type:"text",id:"access",placeholder:"输入账号"},domProps:{value:t.access},on:{input:function(e){e.target.composing||(t.access=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),t.error?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登录")])])])])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){a(163)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(164),n=a.n(r),i=a(171),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i=a(6),o=a(1),l=a(4),c=a(165),u=s(c),d=a(167),v=s(d),p={data:function(){return{logout:(0,o.createRequestURI)("logout")}},computed:n({},(0,i.mapGetters)([l.USER,l.USER_DATA]),{avatar:function(){var t=this[l.USER_DATA]||{},e=t.avatar;return"object"===(void 0===e?"undefined":r(e))?(0,o.createAPI)("storages/"+e.value):""},user:function(){return this[l.USER]}}),methods:{openWebsite:function(t){return t.stopPropagation(),t.preventDefault(),!1}},components:{"system-nav":v.default,"default-avatar":u.default}};e.default=p},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(166),r=a(0),n=r(null,s.a,null,null,null);e.default=n.exports},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[a("circle",{attrs:{fill:"#ececec",cx:"50",cy:"50",r:"50"}}),t._v(" "),a("circle",{attrs:{fill:"#fff",cx:"50",cy:"32",r:"19"}}),t._v(" "),a("path",{attrs:{fill:"#fff",d:"M67.3,49c-4.5,4.3-10.6,7-17.3,7c-6.6,0-12.5-2.5-17-6.7c-7.4,3.9-13.4,10.3-16.8,18C22.5,79.6,35.3,88,50,88\n    c15.2,0,28.2-8.9,34.3-21.7C80.7,58.8,74.7,52.7,67.3,49z"}})])},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){a(168)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(169),n=a.n(r),i=a(170),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=a(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i=a(3),o=a(4),l=a(6),c={computed:s({},(0,l.mapGetters)({manages:o.MANAGES_GET})),created:function(){this.$store.dispatch(i.MANAGES_SET,function(t){return n.default.get((0,r.createRequestURI)("manages"),{validateStatus:function(t){return 200===t}}).then(function(e){var a=e.data;t(void 0===a?[]:a)}).catch(function(){window.alert("加载导航失败，请刷新页面！")})})}};e.default=c},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-group app-nav"},[a("router-link",{staticClass:"list-group-item __button",attrs:{to:"/setting","active-class":"active"}},[a("span",{staticClass:"glyphicon glyphicon-cog __icon"}),t._v("\n    系统设置\n  ")]),t._v(" "),a("router-link",{staticClass:"list-group-item __button",attrs:{to:"/users","active-class":"active"}},[a("span",{staticClass:"glyphicon glyphicon-user __icon"}),t._v("\n    用户中心\n  ")]),t._v(" "),a("router-link",{staticClass:"list-group-item __button",attrs:{to:"/sms","active-class":"active"}},[a("span",{staticClass:"glyphicon glyphicon-phone __icon"}),t._v("\n    短信设置\n  ")]),t._v(" "),a("router-link",{staticClass:"list-group-item __button",attrs:{to:"/wallet","active-class":"active"}},[a("span",{staticClass:"glyphicon glyphicon-credit-card __icon"}),t._v("\n    钱包\n  ")]),t._v(" "),a("router-link",{staticClass:"list-group-item __button",attrs:{to:"/ad","active-class":"active"}},[a("span",{staticClass:"__icon"},[t._v("AD")]),t._v("\n    广告管理\n  ")]),t._v(" "),t._l(t.manages,function(e,s){return a("router-link",{key:s,staticClass:"list-group-item __button",attrs:{to:"/package/"+s,"active-class":"active",exact:""}},["://"===e.icon.substr(4,3)||"://"===e.icon.substr(5,3)?a("img",{staticClass:"__icon-img",attrs:{src:e.icon}}):a("span",{staticClass:"__icon"},[t._v(t._s(e.icon))]),t._v("\n    "+t._s(e.name)+"\n  ")])})],2)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container clearfix"},[a("div",{staticClass:"left-nav pull-left"},[t.avatar?a("img",{staticClass:"img-responsive img-circle center-block user-avatar",attrs:{src:t.avatar}}):a("default-avatar",{staticClass:"img-responsive img-circle center-block user-avatar"}),t._v(" "),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle username-btn",attrs:{type:"button",id:"userDropdownMune","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        "+t._s(t.user.name)+"\n        "),a("span",{staticClass:"caret"})]),t._v(" "),a("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"userDropdownMune"}},[a("li",{staticClass:"disabled"},[a("a",{attrs:{href:"#"},on:{click:t.openWebsite}},[a("span",{staticClass:"glyphicon glyphicon-new-window"}),t._v("\n            打开前台\n          ")])]),t._v(" "),a("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),a("li",[a("a",{attrs:{href:t.logout}},[a("span",{staticClass:"glyphicon glyphicon-log-in"}),t._v("\n            退出登录\n          ")])])])]),t._v(" "),a("system-nav")],1),t._v(" "),a("router-view",{staticClass:"pull-right context-container"})],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(173)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(174),n=a.n(r),i=a(175),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={appIframe:"_35pOO3wniuJQ-kNkV4ib0k_0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=a(4),n=a(6);e.default={computed:s({},(0,n.mapGetters)({manages:r.MANAGES_GET}),{uri:function(){var t=this.$route.params.key,e=this.manages[t];return e=void 0===e?{}:e,e.uri}})}},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("iframe",{class:t.$style.appIframe,attrs:{src:t.uri}})},r=[],n={render:s,staticRenderFns:r};e.a=n},function(t,e,a){"use strict";function s(t){this.$style=a(177)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(178),n=a.n(r),i=a(179),o=a(0),l=s,c=o(n.a,i.a,l,null,null);e.default=c.exports},function(t,e){t.exports={appIframe:"_3ktd3GaQ51QNxBbNqAhp9r_0"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r=window.TS.menus||{},n={data:function(){return s({},r)},computed:{uri:function(){var t=this.$route.params.component;return this[t]?this[t].admin:void this.$router.replace("/")}}};e.default=n},function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("iframe",{class:t.$style.appIframe,attrs:{src:t.uri}})},r=[],n={render:s,staticRenderFns:r};e.a=n}],[17]);